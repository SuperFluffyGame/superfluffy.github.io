var et=Object.defineProperty;var tt=(e,t,s)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var x=(e,t,s)=>(tt(e,typeof t!="symbol"?t+"":t,s),s);import{I as Ue,S as re,i as ce,s as ue,B as me,k as v,a as O,l as E,m as N,c as T,h as b,n as m,J as Te,p as C,b as Y,G as y,K as Be,D as ge,E as _e,F as ye,f as R,t as G,H as st,L as be,M as nt,q as fe,v as $,r as he,w as ee,N as oe,x as te,y as se,O as lt,P as pe,Q as Re,R as it,g as ot,d as at,T as Pe,A as Se,U as rt,V as Ae,o as ct,W as ut}from"./index-4f1aec18.js";import{w as K,d as V,c as ne}from"./singletons-a01002c4.js";const ft=""+new URL("../assets/stats-08c66cd3.svg",import.meta.url).href,ht=""+new URL("../assets/settings-4a18c9a1.svg",import.meta.url).href,dt=""+new URL("../assets/home-b3ebdf43.svg",import.meta.url).href,mt=""+new URL("../assets/info-d260f4fb.svg",import.meta.url).href,Ee="MINESWEEPER_SAVE_GAME",gt=e=>{var s;return JSON.parse((s=localStorage[Ee+`_${e}`])!=null?s:{})},qe=(e,t)=>{je(e),localStorage[Ee+`_${e}`]=JSON.stringify(t)},je=e=>{localStorage.removeItem(Ee+`_${e}`)},Jt=e=>{Q.update(t=>(t==null||t.splice(t.findIndex(s=>s.index===e),1),t)),je(e)},Ut=e=>{let t=Ue(Q),s;for(let n=0;;n++)if(t.findIndex(l=>l.index===n)===-1){s=n;break}e.title+=s,qe(s,e),ae.set(-1),ae.set(s),Q.update(n=>(n==null||n.push({index:s,selected:!1}),n)),we.set(e)},Xe="MINESWEEPER_OVERALL_STATS",_t=()=>{var s,n,l,o,u,f,_,c,r,a,i,g,k,h,D,I,F,z,J,U,P,L,B,A,q,M,j,p,X,S,d;const e=JSON.parse((s=localStorage[Xe])!=null?s:"{}");return{easy:{gamesWon:(l=(n=e==null?void 0:e.easy)==null?void 0:n.gamesWon)!=null?l:0,gamesLost:(u=(o=e==null?void 0:e.easy)==null?void 0:o.gamesLost)!=null?u:0,cellsOpened:(_=(f=e==null?void 0:e.easy)==null?void 0:f.cellsOpened)!=null?_:0,times:(r=(c=e==null?void 0:e.easy)==null?void 0:c.times)!=null?r:[],averageTime:(i=(a=e==null?void 0:e.easy)==null?void 0:a.averageTime)!=null?i:0},medium:{gamesWon:(k=(g=e==null?void 0:e.medium)==null?void 0:g.gamesWon)!=null?k:0,gamesLost:(D=(h=e==null?void 0:e.medium)==null?void 0:h.gamesLost)!=null?D:0,cellsOpened:(F=(I=e==null?void 0:e.medium)==null?void 0:I.cellsOpened)!=null?F:0,times:(J=(z=e==null?void 0:e.medium)==null?void 0:z.times)!=null?J:[],averageTime:(P=(U=e==null?void 0:e.medium)==null?void 0:U.averageTime)!=null?P:0},hard:{gamesWon:(B=(L=e==null?void 0:e.hard)==null?void 0:L.gamesWon)!=null?B:0,gamesLost:(q=(A=e==null?void 0:e.hard)==null?void 0:A.gamesLost)!=null?q:0,cellsOpened:(j=(M=e==null?void 0:e.hard)==null?void 0:M.cellsOpened)!=null?j:0,times:(X=(p=e==null?void 0:e.hard)==null?void 0:p.times)!=null?X:[],averageTime:(d=(S=e==null?void 0:e.hard)==null?void 0:S.averageTime)!=null?d:0}}},yt=e=>{localStorage[Xe]=JSON.stringify(e)},Ye="MINESWEEPER_SETTINGS",Bt=[0,5,10,15,20],Ke=[{hue:200,accent:"darkcyan",cellHue:200,light:!1},{hue:100,accent:"green",cellHue:100,light:!1},{hue:300,accent:"darkviolet",cellHue:300,light:!1},{hue:0,accent:"brown",cellHue:0,light:!1},{hue:50,accent:"orange",cellHue:60,light:!0}],bt=()=>{var s,n,l;const e=JSON.parse((s=localStorage[Ye])!=null?s:"{}");return{theme:(n=e==null?void 0:e.theme)!=null?n:0,saturation:(l=e==null?void 0:e.saturation)!=null?l:0}},pt=e=>{localStorage[Ye]=JSON.stringify(e)},Qe="MINESWEEPER_SAVE_SLOTS";let we=K(null);we.subscribe(e=>{if(typeof window<"u"&&e!=null){let t=Ue(ae);qe(t,e)}});let ae=K(-1);ae.subscribe(e=>{e!==-1&&we.set(gt(e))});let Q=K();var Je;typeof window<"u"&&Q.set(JSON.parse((Je=localStorage[Qe])!=null?Je:"[]").map(e=>({index:e,selected:!1})));Q.subscribe(e=>{typeof window>"u"||e==null||(localStorage[Qe]=JSON.stringify(e.map(t=>t.index)))});const Ze=K();typeof window<"u"&&Ze.set(_t());Ze.subscribe(e=>{typeof window>"u"||e==null||yt(e)});const ke=K();typeof window<"u"&&ke.set(bt());ke.subscribe(e=>{if(typeof window>"u"||e==null)return;const t=Ke[e.theme];document.documentElement.style.setProperty("--brand-hue",""+t.hue),document.documentElement.style.setProperty("--sat-mul",""+e.saturation),document.documentElement.style.setProperty("--accent",""+t.accent),document.documentElement.style.setProperty("--cell-hue",""+t.cellHue),t.light?(document.documentElement.style.setProperty("--light-offset","60%"),document.documentElement.style.setProperty("--font-color","black")):(document.documentElement.style.setProperty("--light-offset","0%"),document.documentElement.style.setProperty("--font-color","whitesmoke")),pt(e)});const xe=K(null);ke.subscribe(e=>{!e||xe.set(Ke[e.theme])});function Ge(e){let t,s;return{c(){t=v("img"),this.h()},l(n){t=E(n,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),this.h()},h(){var n;be(t.src,s=e[3])||m(t,"src",s),m(t,"alt",""),m(t,"draggable","false"),m(t,"class","svelte-1bt4tps"),C(t,"filter",(n=e[8])!=null&&n.light?"invert()":null,!1)},m(n,l){Y(n,t,l)},p(n,l){var o;l&8&&!be(t.src,s=n[3])&&m(t,"src",s),l&256&&C(t,"filter",(o=n[8])!=null&&o.light?"invert()":null,!1)},d(n){n&&b(t)}}}function St(e){let t,s,n,l,o=`${e[4]}rem`,u,f,_,c=e[1]==="icon"&&Ge(e);const r=e[10].default,a=me(r,e,e[9],null);return{c(){t=v("button"),c&&c.c(),s=O(),a&&a.c(),this.h()},l(i){t=E(i,"BUTTON",{class:!0,title:!0,type:!0,style:!0});var g=N(t);c&&c.l(g),s=T(g),a&&a.l(g),g.forEach(b),this.h()},h(){var i;t.disabled=e[0],m(t,"class",n=Te(["unstyled",e[1],e[2],(i=e[8])!=null&&i.light?"light":"dark"].join(" "))+" svelte-1bt4tps"),m(t,"title",e[5]),m(t,"type",l=e[6]?"submit":"button"),m(t,"style",e[7]),C(t,"padding",o,!1)},m(i,g){Y(i,t,g),c&&c.m(t,null),y(t,s),a&&a.m(t,null),u=!0,f||(_=Be(t,"click",e[11]),f=!0)},p(i,[g]){var k;i[1]==="icon"?c?c.p(i,g):(c=Ge(i),c.c(),c.m(t,s)):c&&(c.d(1),c=null),a&&a.p&&(!u||g&512)&&ge(a,r,i,i[9],u?ye(r,i[9],g,null):_e(i[9]),null),(!u||g&1)&&(t.disabled=i[0]),(!u||g&262&&n!==(n=Te(["unstyled",i[1],i[2],(k=i[8])!=null&&k.light?"light":"dark"].join(" "))+" svelte-1bt4tps"))&&m(t,"class",n),(!u||g&32)&&m(t,"title",i[5]),(!u||g&64&&l!==(l=i[6]?"submit":"button"))&&m(t,"type",l),(!u||g&128)&&m(t,"style",i[7]),g&16&&o!==(o=`${i[4]}rem`)&&C(t,"padding",o,!1)},i(i){u||(R(a,i),u=!0)},o(i){G(a,i),u=!1},d(i){i&&b(t),c&&c.d(),a&&a.d(i),f=!1,_()}}}function vt(e,t,s){let n;st(e,xe,h=>s(8,n=h));let{$$slots:l={},$$scope:o}=t,{disabled:u=!1}=t,{type:f="normal"}=t,{size:_="medium"}=t,{iconSrc:c=""}=t,{padding:r=null}=t,{title:a=null}=t,{submit:i=!1}=t,{style:g=null}=t;function k(h){nt.call(this,e,h)}return e.$$set=h=>{"disabled"in h&&s(0,u=h.disabled),"type"in h&&s(1,f=h.type),"size"in h&&s(2,_=h.size),"iconSrc"in h&&s(3,c=h.iconSrc),"padding"in h&&s(4,r=h.padding),"title"in h&&s(5,a=h.title),"submit"in h&&s(6,i=h.submit),"style"in h&&s(7,g=h.style),"$$scope"in h&&s(9,o=h.$$scope)},[u,f,_,c,r,a,i,g,n,o,l,k]}class le extends re{constructor(t){super(),ce(this,t,vt,St,ue,{disabled:0,type:1,size:2,iconSrc:3,padding:4,title:5,submit:6,style:7})}}V.disable_scroll_handling;const ie=V.goto;V.invalidate;V.invalidateAll;V.prefetch;V.prefetch_routes;V.before_navigate;V.after_navigate;const We="",He="Minesweeper",Ce="SFG + TMH Games";function Et(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function qt(e){const t=Math.floor(e/3600),s=Math.floor(e/60)%60,n=e%60;let l="";return t>0&&(l+=t.toString().padStart(2,"0")+":"),l+=s.toString().padStart(2,"0")+":",l+=n.toString().padStart(2,"0"),l}const wt=new Intl.NumberFormat("en-us",{compactDisplay:"short",notation:"compact",maximumFractionDigits:2}),jt=wt.format;const kt=e=>({}),Ve=e=>({}),Mt=e=>({}),ze=e=>({});function Nt(e){let t,s,n,l,o,u,f,_,c,r,a,i,g,k,h,D,I,F,z,J,U,P,L,B,A,q,M;a=new le({props:{type:"icon",size:"large",iconSrc:dt,padding:.2,title:"Home"}}),a.$on("click",e[3]),g=new le({props:{type:"icon",size:"large",iconSrc:ft,padding:.2,title:"Stats"}}),g.$on("click",e[4]),h=new le({props:{type:"icon",size:"large",iconSrc:ht,padding:.2,title:"Settings"}}),h.$on("click",e[5]),I=new le({props:{type:"icon",size:"large",iconSrc:mt,padding:.2,title:"Info"}}),I.$on("click",e[6]);const j=e[2].sidebar,p=me(j,e,e[1],ze),X=e[2].content,S=me(X,e,e[1],Ve);return{c(){t=v("main"),s=v("aside"),n=v("header"),l=v("h1"),o=fe(He),u=O(),f=v("h3"),_=fe(Ce),c=O(),r=v("div"),$(a.$$.fragment),i=O(),$(g.$$.fragment),k=O(),$(h.$$.fragment),D=O(),$(I.$$.fragment),F=O(),z=v("hr"),J=O(),p&&p.c(),U=O(),P=v("div"),L=v("div"),S&&S.c(),B=O(),A=v("footer"),q=fe(We),this.h()},l(d){t=E(d,"MAIN",{class:!0});var w=N(t);s=E(w,"ASIDE",{class:!0});var W=N(s);n=E(W,"HEADER",{class:!0});var Z=N(n);l=E(Z,"H1",{id:!0,class:!0});var Me=N(l);o=he(Me,He),Me.forEach(b),u=T(Z),f=E(Z,"H3",{id:!0,class:!0});var Ne=N(f);_=he(Ne,Ce),Ne.forEach(b),Z.forEach(b),c=T(W),r=E(W,"DIV",{class:!0});var H=N(r);ee(a.$$.fragment,H),i=T(H),ee(g.$$.fragment,H),k=T(H),ee(h.$$.fragment,H),D=T(H),ee(I.$$.fragment,H),H.forEach(b),F=T(W),z=E(W,"HR",{class:!0}),J=T(W),p&&p.l(W),W.forEach(b),U=T(w),P=E(w,"DIV",{class:!0});var Ie=N(P);L=E(Ie,"DIV",{class:!0});var Le=N(L);S&&S.l(Le),Le.forEach(b),Ie.forEach(b),B=T(w),A=E(w,"FOOTER",{class:!0});var Oe=N(A);q=he(Oe,We),Oe.forEach(b),w.forEach(b),this.h()},h(){m(l,"id","title"),m(l,"class","svelte-1dknu32"),m(f,"id","creator"),m(f,"class","svelte-1dknu32"),m(n,"class","svelte-1dknu32"),m(r,"class","menus svelte-1dknu32"),m(z,"class","svelte-1dknu32"),m(s,"class","sidebar svelte-1dknu32"),m(L,"class","fit-content svelte-1dknu32"),oe(L,"full",e[0]),m(P,"class","full-content svelte-1dknu32"),m(A,"class","version svelte-1dknu32"),m(t,"class","wrapper svelte-1dknu32")},m(d,w){Y(d,t,w),y(t,s),y(s,n),y(n,l),y(l,o),y(n,u),y(n,f),y(f,_),y(s,c),y(s,r),te(a,r,null),y(r,i),te(g,r,null),y(r,k),te(h,r,null),y(r,D),te(I,r,null),y(s,F),y(s,z),y(s,J),p&&p.m(s,null),y(t,U),y(t,P),y(P,L),S&&S.m(L,null),y(t,B),y(t,A),y(A,q),M=!0},p(d,[w]){p&&p.p&&(!M||w&2)&&ge(p,j,d,d[1],M?ye(j,d[1],w,Mt):_e(d[1]),ze),S&&S.p&&(!M||w&2)&&ge(S,X,d,d[1],M?ye(X,d[1],w,kt):_e(d[1]),Ve),(!M||w&1)&&oe(L,"full",d[0])},i(d){M||(R(a.$$.fragment,d),R(g.$$.fragment,d),R(h.$$.fragment,d),R(I.$$.fragment,d),R(p,d),R(S,d),M=!0)},o(d){G(a.$$.fragment,d),G(g.$$.fragment,d),G(h.$$.fragment,d),G(I.$$.fragment,d),G(p,d),G(S,d),M=!1},d(d){d&&b(t),se(a),se(g),se(h),se(I),p&&p.d(d),S&&S.d(d)}}}function It(e,t,s){let{$$slots:n={},$$scope:l}=t,{fullContent:o=!1}=t;const u=()=>{ie(`${ne}`)},f=()=>{ie(`${ne}/stats`)},_=()=>{ie(`${ne}/settings`)},c=()=>{ie(`${ne}/info`)};return e.$$set=r=>{"fullContent"in r&&s(0,o=r.fullContent),"$$scope"in r&&s(1,l=r.$$scope)},[o,l,n,u,f,_,c]}class Xt extends re{constructor(t){super(),ce(this,t,It,Nt,ue,{fullContent:0})}}var ve=(e=>(e.Closed="closed",e.Opened="opened",e.Flagged="flagged",e))(ve||{}),$e=(e=>(e.Empty="empty",e.Mine="mine",e))($e||{}),Lt=(e=>(e.Playing="playing",e.Won="won",e.Lost="lost",e))(Lt||{}),Ht,Ct,Vt;class de{}Ht=8,Ct=12,Vt=16,x(de,Ht,{width:8,height:8,numMines:10}),x(de,Ct,{width:12,height:12,numMines:20}),x(de,Vt,{width:16,height:16,numMines:40});const Yt=(e,t)=>{const s=Array(e.width*e.height);for(let l=0;l<e.height*e.width;l++)s[l]={state:"closed",numNeighborMines:0,type:"empty"};const n={board:s,...e,sizeDesc:t,firstMove:!0,state:"playing",lostToCell:-1,title:"Save Game ",stats:{timePlayed:0}};for(let l=0;l<e.numMines;l++)Ot(n);return Tt(n),n},Ot=(e,t=[])=>{const s=[];for(let l=0;l<e.width*e.height;l++)e.board[l].type==="empty"&&t.indexOf(l)===-1&&s.push(l);const n=s[Et(0,s.length)];e.board[n].type="mine"},Tt=e=>{for(let t=0;t<e.width;t++)for(let s=0;s<e.height;s++){let n=0;for(let o=0;o<9;o++){const u=Math.floor(o/3)-1,f=o%3-1,_=t+u,c=s+f;if(_<0||_>=e.width||c<0||c>=e.height)continue;const r=c*e.width+_;e.board[r].type==="mine"&&(n+=1)}const l=s*e.width+t;e.board[l].numNeighborMines=n}};function De(e,{delay:t=0,duration:s=400,easing:n=lt}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:n,css:o=>`opacity: ${o*l}`}}const Rt=""+new URL("../assets/check-ce7a5ec0.svg",import.meta.url).href;function Fe(e){let t,s,n,l;return{c(){t=v("img"),this.h()},l(o){t=E(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){be(t.src,s=Rt)||m(t,"src",s),m(t,"alt",""),m(t,"class","svelte-zd59fy")},m(o,u){Y(o,t,u),l=!0},p:Se,i(o){l||(o&&rt(()=>{n||(n=Ae(t,De,{duration:50},!0)),n.run(1)}),l=!0)},o(o){o&&(n||(n=Ae(t,De,{duration:50},!1)),n.run(0)),l=!1},d(o){o&&b(t),o&&n&&n.end()}}}function Pt(e){let t,s,n,l=`${e[1]}rem`,o=`${e[1]}rem`,u,f,_=[{type:"checkbox"},e[2]],c={};for(let a=0;a<_.length;a+=1)c=pe(c,_[a]);let r=e[0]&&Fe();return{c(){t=v("div"),s=v("input"),n=O(),r&&r.c(),this.h()},l(a){t=E(a,"DIV",{class:!0});var i=N(t);s=E(i,"INPUT",{type:!0}),n=T(i),r&&r.l(i),i.forEach(b),this.h()},h(){Re(s,c),oe(s,"svelte-zd59fy",!0),m(t,"class","wrapper svelte-zd59fy"),C(t,"width",l,!1),C(t,"height",o,!1)},m(a,i){Y(a,t,i),y(t,s),s.autofocus&&s.focus(),s.checked=e[0],y(t,n),r&&r.m(t,null),u||(f=Be(s,"change",e[3]),u=!0)},p(a,[i]){Re(s,c=it(_,[{type:"checkbox"},i&4&&a[2]])),i&1&&(s.checked=a[0]),oe(s,"svelte-zd59fy",!0),a[0]?r?(r.p(a,i),i&1&&R(r,1)):(r=Fe(),r.c(),R(r,1),r.m(t,null)):r&&(ot(),G(r,1,1,()=>{r=null}),at()),i&2&&l!==(l=`${a[1]}rem`)&&C(t,"width",l,!1),i&2&&o!==(o=`${a[1]}rem`)&&C(t,"height",o,!1)},i(a){R(r)},o(a){G(r)},d(a){a&&b(t),r&&r.d(),u=!1,f()}}}function At(e,t,s){let{checked:n}=t,{size:l=1.5}=t;function o(){n=this.checked,s(0,n)}return e.$$set=u=>{s(2,t=pe(pe({},t),Pe(u))),"checked"in u&&s(0,n=u.checked),"size"in u&&s(1,l=u.size)},t=Pe(t),[n,l,t,o]}class Kt extends re{constructor(t){super(),ce(this,t,At,Pt,ue,{checked:0,size:1})}}function Gt(e){let t,s,n;return{c(){t=v("canvas"),this.h()},l(l){t=E(l,"CANVAS",{width:!0,height:!0,class:!0}),N(t).forEach(b),this.h()},h(){m(t,"width",s=e[0].width+"px"),m(t,"height",n=e[0].height+"px"),m(t,"class","svelte-jhkqpr")},m(l,o){Y(l,t,o),e[4](t)},p(l,[o]){o&1&&s!==(s=l[0].width+"px")&&m(t,"width",s),o&1&&n!==(n=l[0].height+"px")&&m(t,"height",n)},i:Se,o:Se,d(l){l&&b(t),e[4](null)}}}function Wt(e,t,s){let{showMines:n=!1}=t,{game:l}=t;const o={mine:"red",closed:"navy",empty:"blue",flag:"gold",clickedMine:"violet"};let u,f;ct(()=>{s(3,f=u.getContext("2d")),s(3,f.imageSmoothingEnabled=!1,f),f.clearRect(0,0,u.width,u.height)});function _(c){ut[c?"unshift":"push"](()=>{u=c,s(1,u)})}return e.$$set=c=>{"showMines"in c&&s(2,n=c.showMines),"game"in c&&s(0,l=c.game)},e.$$.update=()=>{if(e.$$.dirty&15&&f){const c=u.width/l.width,r=u.height/l.height;for(let a=0;a<l.width*l.height;a++){const i=l.board[a],g=a%l.width,k=Math.floor(a/l.height);a===l.lostToCell&&n?s(3,f.fillStyle=o.clickedMine,f):i.state===ve.Closed?s(3,f.fillStyle=o.closed,f):i.type===$e.Mine&&n?s(3,f.fillStyle=o.mine,f):i.state===ve.Flagged?s(3,f.fillStyle=o.flag,f):s(3,f.fillStyle=o.empty,f),f.fillRect(g*c,k*r,c,r)}}},[l,u,n,f,_]}class Qt extends re{constructor(t){super(),ce(this,t,Wt,Gt,ue,{showMines:2,game:0})}}export{le as B,Kt as C,Lt as G,Qt as M,Xt as S,de as a,gt as b,ae as c,Jt as d,ve as e,Ze as f,ie as g,$e as h,Ot as i,xe as j,De as k,Ut as l,we as m,Yt as n,ke as o,Ke as p,Bt as q,Tt as r,qe as s,qt as t,Q as u,jt as v};

var Qe=Object.defineProperty;var Ze=(e,t,s)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var z=(e,t,s)=>(Ze(e,typeof t!="symbol"?t+"":t,s),s);import{I as We,S as D,i as F,s as X,B as ue,k as p,a as M,l as y,m as w,c as k,h as b,n as _,J as Ne,p as A,b as j,G as m,K as Ve,D as he,E as de,F as ge,f as I,t as R,H as xe,L as _e,M as $e,q as te,v as se,r as le,w as ne,N as U,x as ie,y as ae,O as et,P as me,Q as Ie,R as tt,g as st,d as lt,T as Le,A as be,U as nt,V as Oe,o as it,W as at}from"./index-5a066762.js";import{w as q,d as G,c as oe}from"./singletons-f00f7ea7.js";const ot=""+new URL("../assets/stats-08c66cd3.svg",import.meta.url).href,rt=""+new URL("../assets/settings-4a18c9a1.svg",import.meta.url).href,ct=""+new URL("../assets/home-b3ebdf43.svg",import.meta.url).href,ye="MINESWEEPER_SAVE_GAME",ft=e=>{let t=localStorage[ye+`_${e}`];return t?JSON.parse(t):null},Je=(e,t)=>{ze(e),localStorage[ye+`_${e}`]=JSON.stringify(t)},ze=e=>{localStorage.removeItem(ye+`_${e}`)},jt=e=>{W.update(t=>(t==null||t.splice(t.findIndex(s=>s.index===e),1),t)),ze(e)},qt=e=>{let t=We(W),s;for(let l=0;;l++)if(t.findIndex(n=>n.index===l)===-1){s=l;break}e.title+=s,Je(s,e),B.set(-1),B.set(s),W.update(l=>(l==null||l.push({index:s,selected:!1}),l)),Se.set(e)},Ue="MINESWEEPER_OVERALL_STATS",ut=()=>{var s,l,n,a;const e=JSON.parse((s=localStorage[Ue])!=null?s:"{}");return{gamesWon:(l=e==null?void 0:e.gamesWon)!=null?l:0,gamesLost:(n=e==null?void 0:e.gamesLost)!=null?n:0,cellsOpened:(a=e==null?void 0:e.cellsOpened)!=null?a:0}},ht=e=>{localStorage[Ue]=JSON.stringify(e)},Be="MINESWEEPER_SETTINGS",Ct=[0,5,10,15,20],De=[{hue:200,accent:"darkcyan",cellHue:200,light:!1},{hue:100,accent:"green",cellHue:100,light:!1},{hue:300,accent:"darkviolet",cellHue:300,light:!1},{hue:0,accent:"brown",cellHue:0,light:!1},{hue:50,accent:"orange",cellHue:60,light:!0}],dt=()=>{var s,l,n;const e=JSON.parse((s=localStorage[Be])!=null?s:"{}");return{theme:(l=e==null?void 0:e.theme)!=null?l:0,saturation:(n=e==null?void 0:e.saturation)!=null?n:10}},gt=e=>{localStorage[Be]=JSON.stringify(e)},Fe="MINESWEEPER_SAVE_SLOTS";let Se=q(null);Se.subscribe(e=>{if(typeof window<"u"&&e!=null){let t=We(B);Je(t,e)}});let B=q(-1);B.subscribe(e=>{e!==-1&&Se.set(ft(e))});let W=q();var Ce;typeof window<"u"&&W.set(JSON.parse((Ce=localStorage[Fe])!=null?Ce:"[]").map(e=>({index:e,selected:!1})));W.subscribe(e=>{typeof window>"u"||e==null||(localStorage[Fe]=JSON.stringify(e.map(t=>t.index)))});const Xe=q();typeof window<"u"&&Xe.set(ut());Xe.subscribe(e=>{typeof window>"u"||e==null||ht(e)});const Ee=q();typeof window<"u"&&Ee.set(dt());Ee.subscribe(e=>{if(typeof window>"u"||e==null)return;const t=De[e.theme];document.documentElement.style.setProperty("--brand-hue",""+t.hue),document.documentElement.style.setProperty("--sat-mul",""+e.saturation),document.documentElement.style.setProperty("--accent",""+t.accent),document.documentElement.style.setProperty("--cell-hue",""+t.cellHue),t.light?(document.documentElement.style.setProperty("--light-offset","60%"),document.documentElement.style.setProperty("--font-color","black")):(document.documentElement.style.setProperty("--light-offset","0%"),document.documentElement.style.setProperty("--font-color","whitesmoke")),gt(e)});const Ye=q(null);Ee.subscribe(e=>{!e||Ye.set(De[e.theme])});function Pe(e){let t,s;return{c(){t=p("img"),this.h()},l(l){t=y(l,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),this.h()},h(){var l;_e(t.src,s=e[3])||_(t,"src",s),_(t,"alt",""),_(t,"draggable","false"),_(t,"class","svelte-1bt4tps"),A(t,"filter",(l=e[6])!=null&&l.light?"invert()":null,!1)},m(l,n){j(l,t,n)},p(l,n){var a;n&8&&!_e(t.src,s=l[3])&&_(t,"src",s),n&64&&A(t,"filter",(a=l[6])!=null&&a.light?"invert()":null,!1)},d(l){l&&b(t)}}}function _t(e){let t,s,l,n=`${e[4]}rem`,a,f,r,u=e[1]==="icon"&&Pe(e);const h=e[8].default,o=ue(h,e,e[7],null);return{c(){t=p("button"),u&&u.c(),s=M(),o&&o.c(),this.h()},l(i){t=y(i,"BUTTON",{class:!0,title:!0});var c=w(t);u&&u.l(c),s=k(c),o&&o.l(c),c.forEach(b),this.h()},h(){var i;t.disabled=e[0],_(t,"class",l=Ne(["unstyled",e[1],e[2],(i=e[6])!=null&&i.light?"light":"dark"].join(" "))+" svelte-1bt4tps"),_(t,"title",e[5]),A(t,"padding",n,!1)},m(i,c){j(i,t,c),u&&u.m(t,null),m(t,s),o&&o.m(t,null),a=!0,f||(r=Ve(t,"click",e[9]),f=!0)},p(i,[c]){var d;i[1]==="icon"?u?u.p(i,c):(u=Pe(i),u.c(),u.m(t,s)):u&&(u.d(1),u=null),o&&o.p&&(!a||c&128)&&he(o,h,i,i[7],a?ge(h,i[7],c,null):de(i[7]),null),(!a||c&1)&&(t.disabled=i[0]),(!a||c&70&&l!==(l=Ne(["unstyled",i[1],i[2],(d=i[6])!=null&&d.light?"light":"dark"].join(" "))+" svelte-1bt4tps"))&&_(t,"class",l),(!a||c&32)&&_(t,"title",i[5]),c&16&&n!==(n=`${i[4]}rem`)&&A(t,"padding",n,!1)},i(i){a||(I(o,i),a=!0)},o(i){R(o,i),a=!1},d(i){i&&b(t),u&&u.d(),o&&o.d(i),f=!1,r()}}}function mt(e,t,s){let l;xe(e,Ye,d=>s(6,l=d));let{$$slots:n={},$$scope:a}=t,{disabled:f=!1}=t,{type:r="normal"}=t,{size:u="medium"}=t,{iconSrc:h=""}=t,{padding:o=null}=t,{title:i=null}=t;function c(d){$e.call(this,e,d)}return e.$$set=d=>{"disabled"in d&&s(0,f=d.disabled),"type"in d&&s(1,r=d.type),"size"in d&&s(2,u=d.size),"iconSrc"in d&&s(3,h=d.iconSrc),"padding"in d&&s(4,o=d.padding),"title"in d&&s(5,i=d.title),"$$scope"in d&&s(7,a=d.$$scope)},[f,r,u,h,o,i,l,a,n,c]}class re extends D{constructor(t){super(),F(this,t,mt,_t,X,{disabled:0,type:1,size:2,iconSrc:3,padding:4,title:5})}}G.disable_scroll_handling;const ce=G.goto;G.invalidate;G.invalidateAll;G.prefetch;G.prefetch_routes;G.before_navigate;G.after_navigate;const Re="",Ae="Minesweeper",Ge="SFG + TMH Games";function bt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function Wt(e){const t=Math.floor(e/3600),s=Math.floor(e/60)%60,l=e%60;let n="";return t>0&&(n+=t.toString().padStart(2,"0")+":"),n+=s.toString().padStart(2,"0")+":",n+=l.toString().padStart(2,"0"),n}const pt=e=>({}),Te=e=>({}),yt=e=>({}),He=e=>({});function St(e){let t,s,l,n,a,f,r,u,h,o,i,c,d,C,L,Y,V,K,Q,O,Z,T,x,N;i=new re({props:{type:"icon",size:"large",iconSrc:ct,padding:.2,title:"Home"}}),i.$on("click",e[3]),d=new re({props:{type:"icon",size:"large",iconSrc:ot,padding:.2,title:"Stats"}}),d.$on("click",e[4]),L=new re({props:{type:"icon",size:"large",iconSrc:rt,padding:.2,title:"Settings"}}),L.$on("click",e[5]);const $=e[2].sidebar,E=ue($,e,e[1],He),ee=e[2].content,v=ue(ee,e,e[1],Te);return{c(){t=p("main"),s=p("aside"),l=p("header"),n=p("h1"),a=te(Ae),f=M(),r=p("h3"),u=te(Ge),h=M(),o=p("div"),se(i.$$.fragment),c=M(),se(d.$$.fragment),C=M(),se(L.$$.fragment),Y=M(),V=p("hr"),K=M(),E&&E.c(),Q=M(),O=p("div"),v&&v.c(),Z=M(),T=p("footer"),x=te(Re),this.h()},l(g){t=y(g,"MAIN",{class:!0});var S=w(t);s=y(S,"ASIDE",{class:!0});var P=w(s);l=y(P,"HEADER",{class:!0});var J=w(l);n=y(J,"H1",{id:!0,class:!0});var ve=w(n);a=le(ve,Ae),ve.forEach(b),f=k(J),r=y(J,"H3",{id:!0,class:!0});var we=w(r);u=le(we,Ge),we.forEach(b),J.forEach(b),h=k(P),o=y(P,"DIV",{class:!0});var H=w(o);ne(i.$$.fragment,H),c=k(H),ne(d.$$.fragment,H),C=k(H),ne(L.$$.fragment,H),H.forEach(b),Y=k(P),V=y(P,"HR",{class:!0}),K=k(P),E&&E.l(P),P.forEach(b),Q=k(S),O=y(S,"DIV",{class:!0});var Me=w(O);v&&v.l(Me),Me.forEach(b),Z=k(S),T=y(S,"FOOTER",{class:!0});var ke=w(T);x=le(ke,Re),ke.forEach(b),S.forEach(b),this.h()},h(){_(n,"id","title"),_(n,"class","svelte-j6grfq"),_(r,"id","creator"),_(r,"class","svelte-j6grfq"),_(l,"class","svelte-j6grfq"),_(o,"class","menus svelte-j6grfq"),_(V,"class","svelte-j6grfq"),_(s,"class","sidebar svelte-j6grfq"),_(O,"class","content svelte-j6grfq"),U(O,"full",e[0]),_(T,"class","version svelte-j6grfq"),_(t,"class","wrapper svelte-j6grfq")},m(g,S){j(g,t,S),m(t,s),m(s,l),m(l,n),m(n,a),m(l,f),m(l,r),m(r,u),m(s,h),m(s,o),ie(i,o,null),m(o,c),ie(d,o,null),m(o,C),ie(L,o,null),m(s,Y),m(s,V),m(s,K),E&&E.m(s,null),m(t,Q),m(t,O),v&&v.m(O,null),m(t,Z),m(t,T),m(T,x),N=!0},p(g,[S]){E&&E.p&&(!N||S&2)&&he(E,$,g,g[1],N?ge($,g[1],S,yt):de(g[1]),He),v&&v.p&&(!N||S&2)&&he(v,ee,g,g[1],N?ge(ee,g[1],S,pt):de(g[1]),Te),(!N||S&1)&&U(O,"full",g[0])},i(g){N||(I(i.$$.fragment,g),I(d.$$.fragment,g),I(L.$$.fragment,g),I(E,g),I(v,g),N=!0)},o(g){R(i.$$.fragment,g),R(d.$$.fragment,g),R(L.$$.fragment,g),R(E,g),R(v,g),N=!1},d(g){g&&b(t),ae(i),ae(d),ae(L),E&&E.d(g),v&&v.d(g)}}}function Et(e,t,s){let{$$slots:l={},$$scope:n}=t,{fullContent:a=!1}=t;const f=()=>{ce(`${oe}`)},r=()=>{ce(`${oe}/stats`)},u=()=>{ce(`${oe}/settings`)};return e.$$set=h=>{"fullContent"in h&&s(0,a=h.fullContent),"$$scope"in h&&s(1,n=h.$$scope)},[a,n,l,f,r,u]}class Vt extends D{constructor(t){super(),F(this,t,Et,St,X,{fullContent:0})}}var pe=(e=>(e.Closed="closed",e.Opened="opened",e.Flagged="flagged",e))(pe||{}),Ke=(e=>(e.Empty="empty",e.Mine="mine",e))(Ke||{}),vt=(e=>(e.Playing="playing",e.Won="won",e.Lost="lost",e))(vt||{}),Pt,Rt,At;class fe{}Pt=8,Rt=12,At=16,z(fe,Pt,{width:8,height:8,numMines:10}),z(fe,Rt,{width:12,height:12,numMines:20}),z(fe,At,{width:16,height:16,numMines:40});const Jt=e=>{const t=Array(e.width*e.height);for(let l=0;l<e.height*e.width;l++)t[l]={state:"closed",numNeighborMines:0,type:"empty"};const s={board:t,...e,firstMove:!0,state:"playing",lostToCell:-1,title:"Save Game ",stats:{timePlayed:0}};for(let l=0;l<e.numMines;l++)wt(s);return Mt(s),s},wt=(e,t=[])=>{const s=[];for(let n=0;n<e.width*e.height;n++)e.board[n].type==="empty"&&t.indexOf(n)===-1&&s.push(n);const l=s[bt(0,s.length)];e.board[l].type="mine"},Mt=e=>{for(let t=0;t<e.width;t++)for(let s=0;s<e.height;s++){let l=0;for(let a=0;a<9;a++){const f=Math.floor(a/3)-1,r=a%3-1,u=t+f,h=s+r;if(u<0||u>=e.width||h<0||h>=e.height)continue;const o=h*e.width+u;e.board[o].type==="mine"&&(l+=1)}const n=s*e.width+t;e.board[n].numNeighborMines=l}};function je(e,{delay:t=0,duration:s=400,easing:l=et}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:l,css:a=>`opacity: ${a*n}`}}const kt=""+new URL("../assets/check-ce7a5ec0.svg",import.meta.url).href;function qe(e){let t,s,l,n;return{c(){t=p("img"),this.h()},l(a){t=y(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){_e(t.src,s=kt)||_(t,"src",s),_(t,"alt",""),_(t,"class","svelte-zd59fy")},m(a,f){j(a,t,f),n=!0},p:be,i(a){n||(a&&nt(()=>{l||(l=Oe(t,je,{duration:50},!0)),l.run(1)}),n=!0)},o(a){a&&(l||(l=Oe(t,je,{duration:50},!1)),l.run(0)),n=!1},d(a){a&&b(t),a&&l&&l.end()}}}function Nt(e){let t,s,l,n=`${e[1]}rem`,a=`${e[1]}rem`,f,r,u=[{type:"checkbox"},e[2]],h={};for(let i=0;i<u.length;i+=1)h=me(h,u[i]);let o=e[0]&&qe();return{c(){t=p("div"),s=p("input"),l=M(),o&&o.c(),this.h()},l(i){t=y(i,"DIV",{class:!0});var c=w(t);s=y(c,"INPUT",{type:!0}),l=k(c),o&&o.l(c),c.forEach(b),this.h()},h(){Ie(s,h),U(s,"svelte-zd59fy",!0),_(t,"class","wrapper svelte-zd59fy"),A(t,"width",n,!1),A(t,"height",a,!1)},m(i,c){j(i,t,c),m(t,s),s.autofocus&&s.focus(),s.checked=e[0],m(t,l),o&&o.m(t,null),f||(r=Ve(s,"change",e[3]),f=!0)},p(i,[c]){Ie(s,h=tt(u,[{type:"checkbox"},c&4&&i[2]])),c&1&&(s.checked=i[0]),U(s,"svelte-zd59fy",!0),i[0]?o?(o.p(i,c),c&1&&I(o,1)):(o=qe(),o.c(),I(o,1),o.m(t,null)):o&&(st(),R(o,1,1,()=>{o=null}),lt()),c&2&&n!==(n=`${i[1]}rem`)&&A(t,"width",n,!1),c&2&&a!==(a=`${i[1]}rem`)&&A(t,"height",a,!1)},i(i){I(o)},o(i){R(o)},d(i){i&&b(t),o&&o.d(),f=!1,r()}}}function It(e,t,s){let{checked:l}=t,{size:n=1.5}=t;function a(){l=this.checked,s(0,l)}return e.$$set=f=>{s(2,t=me(me({},t),Le(f))),"checked"in f&&s(0,l=f.checked),"size"in f&&s(1,n=f.size)},t=Le(t),[l,n,t,a]}class zt extends D{constructor(t){super(),F(this,t,It,Nt,X,{checked:0,size:1})}}function Lt(e){let t,s,l;return{c(){t=p("canvas"),this.h()},l(n){t=y(n,"CANVAS",{width:!0,height:!0,class:!0}),w(t).forEach(b),this.h()},h(){_(t,"width",s=e[0].width+"px"),_(t,"height",l=e[0].height+"px"),_(t,"class","svelte-jhkqpr")},m(n,a){j(n,t,a),e[4](t)},p(n,[a]){a&1&&s!==(s=n[0].width+"px")&&_(t,"width",s),a&1&&l!==(l=n[0].height+"px")&&_(t,"height",l)},i:be,o:be,d(n){n&&b(t),e[4](null)}}}function Ot(e,t,s){let{showMines:l=!1}=t,{game:n}=t;const a={mine:"red",closed:"navy",empty:"blue",flag:"gold",clickedMine:"violet"};let f,r;it(()=>{s(3,r=f.getContext("2d")),s(3,r.imageSmoothingEnabled=!1,r),r.clearRect(0,0,f.width,f.height)});function u(h){at[h?"unshift":"push"](()=>{f=h,s(1,f)})}return e.$$set=h=>{"showMines"in h&&s(2,l=h.showMines),"game"in h&&s(0,n=h.game)},e.$$.update=()=>{if(e.$$.dirty&15&&r){const h=f.width/n.width,o=f.height/n.height;for(let i=0;i<n.width*n.height;i++){const c=n.board[i],d=i%n.width,C=Math.floor(i/n.height);i===n.lostToCell&&l?s(3,r.fillStyle=a.clickedMine,r):c.state===pe.Closed?s(3,r.fillStyle=a.closed,r):c.type===Ke.Mine&&l?s(3,r.fillStyle=a.mine,r):c.state===pe.Flagged?s(3,r.fillStyle=a.flag,r):s(3,r.fillStyle=a.empty,r),r.fillRect(d*h,C*o,h,o)}}},[n,f,l,r,u]}class Ut extends D{constructor(t){super(),F(this,t,Ot,Lt,X,{showMines:2,game:0})}}export{re as B,zt as C,vt as G,Ut as M,Vt as S,fe as a,ft as b,B as c,jt as d,pe as e,Ke as f,ce as g,wt as h,Ye as i,je as j,Se as k,qt as l,Ee as m,Jt as n,De as o,Ct as p,Mt as r,Xe as s,Wt as t,W as u};

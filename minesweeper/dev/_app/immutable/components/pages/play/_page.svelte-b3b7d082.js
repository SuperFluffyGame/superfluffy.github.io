import{S as Me,i as Ie,s as ye,k as I,a as O,l as y,m as D,c as V,h as v,n as k,N as ee,p as ie,b as Y,G as p,K as se,Y as Xe,f as P,g as ue,t as A,d as de,Z as je,H as ve,a3 as Be,L as ge,A as ce,U as Ue,V as Ge,q as C,r as E,u as B,a4 as He,v as he,w as _e,x as me,y as pe,W as Ce,o as qe,a2 as ze,a5 as Ke,_ as Re,$ as Ze}from"../../../chunks/index-4f1aec18.js";import{G as K,e as z,f as Ee,h as le,i as Je,r as Qe,j as $e,k as ke,m as ne,S as xe,t as Ne,C as et,c as tt,g as Pe,l as lt,n as st,a as it,M as nt,d as Se}from"../../../chunks/MiniBoard-d1e41e43.js";import{c as Ye}from"../../../chunks/singletons-29914894.js";const Te=""+new URL("../../../assets/red_mine-cc7afd62.jpg",import.meta.url).href,We=""+new URL("../../../assets/red_flag-cf5f7b44.jpg",import.meta.url).href,De=(s,e)=>{if(s.state!==K.Playing)return;const i=s.board[e];let l=e%s.width,t=Math.floor(e/s.height);if(i.state===z.Flagged)return;if(i.state===z.Opened&&i.numNeighborMines!==0){let o=0,r=0;for(let a=0;a<9;a++){const d=a%3-1,m=Math.floor(a/3)-1,f=d+l,c=m+t;if(f<0||f>=s.width||c<0||c>=s.height)continue;const h=c*s.width+f,u=s.board[h];u.state===z.Flagged&&o++,u.state!==z.Opened&&r++}if(o===i.numNeighborMines){for(let a=0;a<9;a++){const d=a%3-1,m=Math.floor(a/3)-1,f=d+l,c=m+t;if(f<0||f>=s.width||c<0||c>=s.height)continue;const h=c*s.width+f,u=s.board[h];(u==null?void 0:u.state)===z.Closed&&De(s,h)}return}else if(r===i.numNeighborMines){for(let a=0;a<9;a++){const d=a%3-1,m=Math.floor(a/3)-1,f=d+l,c=m+t;if(f<0||f>=s.width||c<0||c>=s.height)continue;const h=c*s.width+f,u=s.board[h];(u==null?void 0:u.state)===z.Closed&&we(s,h)}return}else return}else if(i.state===z.Opened)return;if(Ee.update(o=>(!o||s.sizeDesc==="custom"||(o[s.sizeDesc].cellsOpened+=1),o)),i.state=z.Opened,s.firstMove){const o=[];for(let r=0;r<9;r++){const a=r%3-1,d=Math.floor(r/3)-1,m=(t+d)*s.width+(l+a);o.push(m)}for(let r=0;r<9;r++){const a=r%3-1,d=Math.floor(r/3)-1,m=(t+d)*s.width+(l+a),f=s.board[m];(f==null?void 0:f.type)===le.Mine&&(f.type=le.Empty,Je(s,o))}Qe(s)}s.firstMove=!1,i.type===le.Empty&&i.numNeighborMines===0&&ot(s,l,t),i.type===le.Mine&&rt(s,e);let n=!0;for(let o=0;o<s.width*s.height;o++)s.board[o].type!==le.Mine&&s.board[o].state!==z.Opened&&(n=!1);n&&at(s)},we=(s,e)=>{if(s.state!==K.Playing)return;let i=s.board[e];i.state===z.Closed?i.state=z.Flagged:i.state===z.Flagged&&(i.state=z.Closed)},ot=(s,e,i)=>{var l;for(let t=0;t<9;t++){const n=t%3-1,o=Math.floor(t/3)-1,r=e+n,a=i+o;if(r<0||r>=s.width||a<0||a>=s.height||n===0&&o===0)continue;const d=a*s.width+r;((l=s.board)==null?void 0:l[d].state)===z.Closed&&De(s,d)}},rt=(s,e)=>{Ee.update(i=>(!i||s.sizeDesc==="custom"||(i[s.sizeDesc].gamesLost+=1),i)),s.state=K.Lost,s.lostToCell=e;for(let i=0;i<s.width*s.height;i++){let l=s.board[i];l.type===le.Mine&&(l.state=z.Opened)}},at=s=>{Ee.update(e=>{if(!e||s.sizeDesc==="custom")return e;const i=e[s.sizeDesc];return i.gamesWon++,i.times.length>20&&i.times.shift(),i.times.push(s.stats.timePlayed),i.times.sort((l,t)=>l-t),i.averageTime=(i.averageTime*(i.gamesWon-1)+s.stats.timePlayed)/i.gamesWon,e}),s.state=K.Won};function ft(s){let e=s[0].numNeighborMines+"",i;return{c(){i=C(e)},l(l){i=E(l,e)},m(l,t){Y(l,i,t)},p(l,t){t&1&&e!==(e=l[0].numNeighborMines+"")&&B(i,e)},d(l){l&&v(i)}}}function ct(s){let e,i;return{c(){e=I("img"),this.h()},l(l){e=y(l,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){k(e,"alt","M"),ge(e.src,i=Te)||k(e,"src",i),k(e,"class","svelte-ij76jn")},m(l,t){Y(l,e,t)},p:ce,d(l){l&&v(e)}}}function Ae(s){let e,i,l;return{c(){e=I("div"),this.h()},l(t){e=y(t,"DIV",{class:!0}),D(e).forEach(v),this.h()},h(){var t;k(e,"class","cover svelte-ij76jn"),ee(e,"light",(t=s[2])==null?void 0:t.light)},m(t,n){Y(t,e,n),l=!0},p(t,n){var o;(!l||n&4)&&ee(e,"light",(o=t[2])==null?void 0:o.light)},i(t){l||(i&&i.end(1),l=!0)},o(t){t&&(i=Be(e,ke,{duration:100})),l=!1},d(t){t&&v(e),t&&i&&i.end()}}}function Oe(s){let e,i,l,t;return{c(){e=I("img"),this.h()},l(n){e=y(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ge(e.src,i=We)||k(e,"src",i),k(e,"alt","F"),k(e,"class","flag svelte-ij76jn")},m(n,o){Y(n,e,o),t=!0},p:ce,i(n){t||(n&&Ue(()=>{l||(l=Ge(e,ke,{duration:100},!0)),l.run(1)}),t=!0)},o(n){n&&(l||(l=Ge(e,ke,{duration:100},!1)),l.run(0)),t=!1},d(n){n&&v(e),n&&l&&l.end()}}}function ut(s){let e,i,l,t,n=`${s[1]}px`,o,r;function a(h,u){if(h[0].type===le.Mine)return ct;if(h[0].numNeighborMines!==0)return ft}let d=a(s),m=d&&d(s),f=s[0].state!==z.Opened&&Ae(s),c=s[0].state===z.Flagged&&Oe();return{c(){e=I("div"),m&&m.c(),i=O(),f&&f.c(),l=O(),c&&c.c(),this.h()},l(h){e=y(h,"DIV",{class:!0});var u=D(e);m&&m.l(u),i=V(u),f&&f.l(u),l=V(u),c&&c.l(u),u.forEach(v),this.h()},h(){var h;k(e,"class",t="wrapper "+s[0].state+" svelte-ij76jn"),ee(e,"light",(h=s[2])==null?void 0:h.light),ie(e,"font-size",n,!1),ie(e,"cursor",s[0].numNeighborMines!==0?"pointer":null,!1)},m(h,u){Y(h,e,u),m&&m.m(e,null),p(e,i),f&&f.m(e,null),p(e,l),c&&c.m(e,null),o||(r=[se(e,"contextmenu",Xe(dt)),se(e,"pointerdown",s[3]),se(e,"pointerup",s[4])],o=!0)},p(h,[u]){var _;d===(d=a(h))&&m?m.p(h,u):(m&&m.d(1),m=d&&d(h),m&&(m.c(),m.m(e,i))),h[0].state!==z.Opened?f?(f.p(h,u),u&1&&P(f,1)):(f=Ae(h),f.c(),P(f,1),f.m(e,l)):f&&(ue(),A(f,1,1,()=>{f=null}),de()),h[0].state===z.Flagged?c?(c.p(h,u),u&1&&P(c,1)):(c=Oe(),c.c(),P(c,1),c.m(e,null)):c&&(ue(),A(c,1,1,()=>{c=null}),de()),u&1&&t!==(t="wrapper "+h[0].state+" svelte-ij76jn")&&k(e,"class",t),u&5&&ee(e,"light",(_=h[2])==null?void 0:_.light),u&2&&n!==(n=`${h[1]}px`)&&ie(e,"font-size",n,!1),u&1&&ie(e,"cursor",h[0].numNeighborMines!==0?"pointer":null,!1)},i(h){P(f),P(c)},o(h){A(f),A(c)},d(h){h&&v(e),m&&m.d(),f&&f.d(),c&&c.d(),o=!1,je(r)}}}const dt=()=>{};function ht(s,e,i){let l;ve(s,$e,u=>i(2,l=u));let{cell:t}=e,{index:n}=e,{defaultAction:o}=e;const r=()=>{ne.update(u=>(o==="open"?De(u,n):o==="flag"&&we(u,n),u))},a=()=>{ne.update(u=>(we(u,n),u))};let d,m=!1;const f=u=>{if(u.button===2){a();return}d=setTimeout(()=>{a(),m=!0},500)},c=u=>{u.button!==2&&(clearTimeout(d),m||r(),m=!1)};let{fontSize:h}=e;return s.$$set=u=>{"cell"in u&&i(0,t=u.cell),"index"in u&&i(5,n=u.index),"defaultAction"in u&&i(6,o=u.defaultAction),"fontSize"in u&&i(1,h=u.fontSize)},[t,h,l,f,c,n,o]}class _t extends Me{constructor(e){super(),Ie(this,e,ht,ut,ye,{cell:0,index:5,defaultAction:6,fontSize:1})}}function Ve(s,e,i){const l=s.slice();return l[6]=e[i],l[8]=i,l}function Fe(s){let e,i;return e=new _t({props:{cell:s[6],index:s[8],fontSize:s[3],defaultAction:s[1]}}),{c(){he(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,t){me(e,l,t),i=!0},p(l,t){const n={};t&1&&(n.cell=l[6]),t&8&&(n.fontSize=l[3]),t&2&&(n.defaultAction=l[1]),e.$set(n)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function mt(s){let e,i,l,t=s[0].board,n=[];for(let r=0;r<t.length;r+=1)n[r]=Fe(Ve(s,t,r));const o=r=>A(n[r],1,1,()=>{n[r]=null});return{c(){e=I("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=y(r,"DIV",{class:!0,style:!0});var a=D(e);for(let d=0;d<n.length;d+=1)n[d].l(a);a.forEach(v),this.h()},h(){var r,a;k(e,"class","board svelte-8k5hco"),k(e,"style",i=`grid-template-columns: repeat(${(r=s[0].width)!=null?r:2}, 1fr); grid-template-rows: repeat(${(a=s[0].height)!=null?a:2}, 1fr);`)},m(r,a){Y(r,e,a);for(let d=0;d<n.length;d+=1)n[d].m(e,null);s[4](e),l=!0},p(r,[a]){var d,m;if(a&11){t=r[0].board;let f;for(f=0;f<t.length;f+=1){const c=Ve(r,t,f);n[f]?(n[f].p(c,a),P(n[f],1)):(n[f]=Fe(c),n[f].c(),P(n[f],1),n[f].m(e,null))}for(ue(),f=t.length;f<n.length;f+=1)o(f);de()}(!l||a&1&&i!==(i=`grid-template-columns: repeat(${(d=r[0].width)!=null?d:2}, 1fr); grid-template-rows: repeat(${(m=r[0].height)!=null?m:2}, 1fr);`))&&k(e,"style",i)},i(r){if(!l){for(let a=0;a<t.length;a+=1)P(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)A(n[a]);l=!1},d(r){r&&v(e),He(n,r),s[4](null)}}}function pt(s,e,i){let{game:l}=e,{defaultAction:t}=e,n,o=0;const r=new ResizeObserver(()=>{var d;i(3,o=((d=n==null?void 0:n.clientWidth)!=null?d:0)/l.width*.8)});function a(d){Ce[d?"unshift":"push"](()=>{n=d,i(2,n)})}return s.$$set=d=>{"game"in d&&i(0,l=d.game),"defaultAction"in d&&i(1,t=d.defaultAction)},s.$$.update=()=>{s.$$.dirty&4&&n&&r.observe(n)},[l,t,n,o,a]}class bt extends Me{constructor(e){super(),Ie(this,e,pt,mt,ye,{game:0,defaultAction:1})}}function gt(s){var re,Z,N,be,ae,G,w;let e,i,l=((Z=(re=s[1])==null?void 0:re.title)!=null?Z:"")+"",t,n,o,r,a,d,m,f,c,h,u,_,g,b=((N=s[0])!=null?N:0)+"",W,F,X=((ae=(be=s[1])==null?void 0:be.numMines)!=null?ae:0)+"",J,Q,R,$=Ne((w=(G=s[1])==null?void 0:G.stats.timePlayed)!=null?w:0)+"",te,L,oe;return{c(){e=I("div"),i=I("h3"),t=C(l),n=O(),o=I("div"),r=I("div"),a=I("img"),m=O(),f=I("div"),c=I("img"),u=O(),_=I("section"),g=I("p"),W=C(b),F=C(" / "),J=C(X),Q=O(),R=I("p"),te=C($),this.h()},l(M){e=y(M,"DIV",{class:!0,slot:!0});var j=D(e);i=y(j,"H3",{});var S=D(i);t=E(S,l),S.forEach(v),n=V(j),o=y(j,"DIV",{class:!0});var T=D(o);r=y(T,"DIV",{class:!0});var x=D(r);a=y(x,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),x.forEach(v),m=V(T),f=y(T,"DIV",{class:!0});var U=D(f);c=y(U,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),U.forEach(v),T.forEach(v),u=V(j),_=y(j,"SECTION",{class:!0});var H=D(_);g=y(H,"P",{});var q=D(g);W=E(q,b),F=E(q," / "),J=E(q,X),q.forEach(v),Q=V(H),R=y(H,"P",{});var fe=D(R);te=E(fe,$),fe.forEach(v),H.forEach(v),j.forEach(v),this.h()},h(){ge(a.src,d=Te)||k(a,"src",d),k(a,"alt",""),k(a,"draggable","false"),k(a,"class","svelte-15fijm3"),k(r,"class","default-action-child svelte-15fijm3"),ee(r,"selected",s[5]==="open"),ge(c.src,h=We)||k(c,"src",h),k(c,"alt",""),k(c,"draggable","false"),k(c,"class","svelte-15fijm3"),k(f,"class","default-action-child svelte-15fijm3"),ee(f,"selected",s[5]==="flag"),k(o,"class","default-action svelte-15fijm3"),ie(g,"color",s[4],!1),k(_,"class","stats svelte-15fijm3"),k(e,"class","sidebar svelte-15fijm3"),k(e,"slot","sidebar")},m(M,j){Y(M,e,j),p(e,i),p(i,t),p(e,n),p(e,o),p(o,r),p(r,a),p(o,m),p(o,f),p(f,c),p(e,u),p(e,_),p(_,g),p(g,W),p(g,F),p(g,J),p(_,Q),p(_,R),p(R,te),L||(oe=[se(r,"click",s[10]),se(f,"click",s[11])],L=!0)},p(M,j){var S,T,x,U,H,q,fe;j&2&&l!==(l=((T=(S=M[1])==null?void 0:S.title)!=null?T:"")+"")&&B(t,l),j&32&&ee(r,"selected",M[5]==="open"),j&32&&ee(f,"selected",M[5]==="flag"),j&1&&b!==(b=((x=M[0])!=null?x:0)+"")&&B(W,b),j&2&&X!==(X=((H=(U=M[1])==null?void 0:U.numMines)!=null?H:0)+"")&&B(J,X),j&16&&ie(g,"color",M[4],!1),j&2&&$!==($=Ne((fe=(q=M[1])==null?void 0:q.stats.timePlayed)!=null?fe:0)+"")&&B(te,$)},d(M){M&&v(e),L=!1,je(oe)}}}function vt(s){let e,i;return{c(){e=I("p"),i=C("Loading...")},l(l){e=y(l,"P",{});var t=D(e);i=E(t,"Loading..."),t.forEach(v)},m(l,t){Y(l,e,t),p(e,i)},p:ce,i:ce,o:ce,d(l){l&&v(e)}}}function kt(s){let e,i;return e=new bt({props:{game:s[1],defaultAction:s[5]}}),{c(){he(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,t){me(e,l,t),i=!0},p(l,t){const n={};t&2&&(n.game=l[1]),t&32&&(n.defaultAction=l[5]),e.$set(n)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function wt(s){let e,i,l,t,n,o=s[1].width+"",r,a,d=s[1].height+"",m,f,c=s[1].numMines+"",h,u;return{c(){e=I("h2"),i=C("You Lost!"),l=O(),t=I("p"),n=C("You lost on a "),r=C(o),a=C("x"),m=C(d),f=C(`\r
                        board with `),h=C(c),u=C(" mines.")},l(_){e=y(_,"H2",{});var g=D(e);i=E(g,"You Lost!"),g.forEach(v),l=V(_),t=y(_,"P",{});var b=D(t);n=E(b,"You lost on a "),r=E(b,o),a=E(b,"x"),m=E(b,d),f=E(b,`\r
                        board with `),h=E(b,c),u=E(b," mines."),b.forEach(v)},m(_,g){Y(_,e,g),p(e,i),Y(_,l,g),Y(_,t,g),p(t,n),p(t,r),p(t,a),p(t,m),p(t,f),p(t,h),p(t,u)},p(_,g){g&2&&o!==(o=_[1].width+"")&&B(r,o),g&2&&d!==(d=_[1].height+"")&&B(m,d),g&2&&c!==(c=_[1].numMines+"")&&B(h,c)},d(_){_&&v(e),_&&v(l),_&&v(t)}}}function Mt(s){let e,i,l,t,n,o=s[1].width+"",r,a,d=s[1].height+"",m,f,c=s[1].numMines+"",h,u;return{c(){e=I("h2"),i=C("You Won!"),l=O(),t=I("p"),n=C("Congratulations, you won on a "),r=C(o),a=C("x"),m=C(d),f=C(`\r
                        board with `),h=C(c),u=C(" mines.")},l(_){e=y(_,"H2",{});var g=D(e);i=E(g,"You Won!"),g.forEach(v),l=V(_),t=y(_,"P",{});var b=D(t);n=E(b,"Congratulations, you won on a "),r=E(b,o),a=E(b,"x"),m=E(b,d),f=E(b,`\r
                        board with `),h=E(b,c),u=E(b," mines."),b.forEach(v)},m(_,g){Y(_,e,g),p(e,i),Y(_,l,g),Y(_,t,g),p(t,n),p(t,r),p(t,a),p(t,m),p(t,f),p(t,h),p(t,u)},p(_,g){g&2&&o!==(o=_[1].width+"")&&B(r,o),g&2&&d!==(d=_[1].height+"")&&B(m,d),g&2&&c!==(c=_[1].numMines+"")&&B(h,c)},d(_){_&&v(e),_&&v(l),_&&v(t)}}}function Le(s){let e,i,l;return i=new nt({props:{game:s[1],showMines:!0}}),{c(){e=I("div"),he(i.$$.fragment),this.h()},l(t){e=y(t,"DIV",{class:!0});var n=D(e);_e(i.$$.fragment,n),n.forEach(v),this.h()},h(){k(e,"class","mini-board svelte-15fijm3")},m(t,n){Y(t,e,n),me(i,e,null),l=!0},p(t,n){const o={};n&2&&(o.game=t[1]),i.$set(o)},i(t){l||(P(i.$$.fragment,t),l=!0)},o(t){A(i.$$.fragment,t),l=!1},d(t){t&&v(e),pe(i)}}}function It(s){let e,i,l,t,n,o,r,a,d,m,f,c,h,u,_,g,b,W,F,X,J,Q,R,$;const te=[kt,vt],L=[];function oe(w,M){return w[1]?0:1}i=oe(s),l=L[i]=te[i](s);function re(w,M){var j,S;if(((j=w[1])==null?void 0:j.state)===K.Won)return Mt;if(((S=w[1])==null?void 0:S.state)===K.Lost)return wt}let Z=re(s),N=Z&&Z(s);function be(w){s[8](w)}let ae={};s[3]!==void 0&&(ae.checked=s[3]),c=new et({props:ae}),Ce.push(()=>Re(c,"checked",be));let G=s[1]&&Le(s);return{c(){e=I("div"),l.c(),t=O(),n=I("dialog"),o=I("div"),N&&N.c(),r=O(),a=I("div"),d=I("p"),m=C("Keep Game"),f=O(),he(c.$$.fragment),u=O(),_=I("div"),g=I("button"),b=C("Back to Menu"),W=O(),F=I("button"),X=C("New Game"),J=O(),G&&G.c(),this.h()},l(w){e=y(w,"DIV",{class:!0,slot:!0});var M=D(e);l.l(M),t=V(M),n=y(M,"DIALOG",{class:!0});var j=D(n);o=y(j,"DIV",{class:!0});var S=D(o);N&&N.l(S),r=V(S),a=y(S,"DIV",{class:!0});var T=D(a);d=y(T,"P",{class:!0});var x=D(d);m=E(x,"Keep Game"),x.forEach(v),f=V(T),_e(c.$$.fragment,T),T.forEach(v),u=V(S),_=y(S,"DIV",{class:!0});var U=D(_);g=y(U,"BUTTON",{class:!0});var H=D(g);b=E(H,"Back to Menu"),H.forEach(v),W=V(U),F=y(U,"BUTTON",{class:!0});var q=D(F);X=E(q,"New Game"),q.forEach(v),U.forEach(v),S.forEach(v),J=V(j),G&&G.l(j),j.forEach(v),M.forEach(v),this.h()},h(){k(d,"class","svelte-15fijm3"),k(a,"class","keep-game-wrapper svelte-15fijm3"),k(g,"class","goto-menu"),k(F,"class","new-game"),k(_,"class","buttons-container-vertical svelte-15fijm3"),k(o,"class","modal-main svelte-15fijm3"),k(n,"class","aftergame-modal svelte-15fijm3"),k(e,"class","wrapper svelte-15fijm3"),k(e,"slot","content")},m(w,M){Y(w,e,M),L[i].m(e,null),p(e,t),p(e,n),p(n,o),N&&N.m(o,null),p(o,r),p(o,a),p(a,d),p(d,m),p(a,f),me(c,a,null),p(o,u),p(o,_),p(_,g),p(g,b),p(_,W),p(_,F),p(F,X),p(n,J),G&&G.m(n,null),s[9](n),Q=!0,R||($=[se(g,"click",s[7]),se(F,"click",s[6])],R=!0)},p(w,M){let j=i;i=oe(w),i===j?L[i].p(w,M):(ue(),A(L[j],1,1,()=>{L[j]=null}),de(),l=L[i],l?l.p(w,M):(l=L[i]=te[i](w),l.c()),P(l,1),l.m(e,t)),Z===(Z=re(w))&&N?N.p(w,M):(N&&N.d(1),N=Z&&Z(w),N&&(N.c(),N.m(o,r)));const S={};!h&&M&8&&(h=!0,S.checked=w[3],Ze(()=>h=!1)),c.$set(S),w[1]?G?(G.p(w,M),M&2&&P(G,1)):(G=Le(w),G.c(),P(G,1),G.m(n,null)):G&&(ue(),A(G,1,1,()=>{G=null}),de())},i(w){Q||(P(l),P(c.$$.fragment,w),P(G),Q=!0)},o(w){A(l),A(c.$$.fragment,w),A(G),Q=!1},d(w){w&&v(e),L[i].d(),N&&N.d(),pe(c),G&&G.d(),s[9](null),R=!1,je($)}}}function yt(s){let e,i;return e=new xe({props:{fullContent:!0,disableFlex:!0,$$slots:{content:[It],sidebar:[gt]},$$scope:{ctx:s}}}),{c(){he(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,t){me(e,l,t),i=!0},p(l,[t]){const n={};t&16447&&(n.$$scope={dirty:t,ctx:l}),e.$set(n)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function jt(s,e,i){let l,t,n;ve(s,ne,b=>i(1,t=b)),ve(s,tt,b=>i(13,n=b));let o,r;ne.subscribe(b=>{if((b==null?void 0:b.state)!==K.Playing){clearInterval(r);try{o==null||o.showModal()}catch{}}}),qe(()=>{t===null?Pe(`${Ye}`):t.state!==K.Playing&&o.showModal(),(t==null?void 0:t.state)===K.Playing&&(r=setInterval(()=>{ze(ne,t.stats.timePlayed+=1,t)},1e3))}),Ke(()=>{clearInterval(r)});let a=!0;const d=()=>{clearInterval(r),a||Se(n),lt(st(it[t.width],t.sizeDesc)),o.close(),r=setInterval(()=>{ze(ne,t.stats.timePlayed+=1,t)},1e3)},m=()=>{a||Se(n),Pe(`${Ye}`),o.close()};let f,c="open";function h(b){a=b,i(3,a)}function u(b){Ce[b?"unshift":"push"](()=>{o=b,i(2,o)})}const _=()=>i(5,c="open"),g=()=>i(5,c="flag");return s.$$.update=()=>{var b,W;s.$$.dirty&2&&i(0,l=t==null?void 0:t.board.reduce((F,X)=>F+(X.state===z.Flagged?1:0),0)),s.$$.dirty&3&&(l>((b=t==null?void 0:t.numMines)!=null?b:0)?i(4,f="red"):l===((W=t==null?void 0:t.numMines)!=null?W:0)&&(t==null?void 0:t.state)===K.Won?i(4,f="green"):i(4,f=null))},[l,t,o,a,f,c,d,m,h,u,_,g]}class Gt extends Me{constructor(e){super(),Ie(this,e,jt,yt,ye,{})}}export{Gt as default};

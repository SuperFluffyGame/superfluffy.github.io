import{S as ve,i as ke,s as we,k as M,a as T,l as I,m as E,c as F,h as v,n as w,N as J,p as le,b as A,G as p,K as ee,Y as We,f as P,g as ae,t as L,d as fe,Z as Me,H as pe,a3 as Xe,L as me,A as re,U as Be,V as De,q as j,r as C,u as X,a4 as Ue,v as ce,w as ue,x as de,y as he,W as Ie,o as He,a2 as Ge,a5 as qe,_ as Ke,$ as Re}from"../../../chunks/index-4f1aec18.js";import{G as q,e as G,f as ye,h as x,i as Ze,r as Je,j as Qe,k as be,m as se,S as $e,t as ze,C as xe,c as et,g as Ne,l as tt,n as lt,a as st,M as it,d as Pe}from"../../../chunks/MiniBoard-aaa8c6ea.js";import{c as Se}from"../../../chunks/singletons-a863e9f5.js";const Te=""+new URL("../../../assets/red_mine-cc7afd62.jpg",import.meta.url).href,Fe=""+new URL("../../../assets/red_flag-cf5f7b44.jpg",import.meta.url).href,je=(s,e)=>{if(s.state!==q.Playing)return;const i=s.board[e];let l=e%s.width,t=Math.floor(e/s.height);if(i.state===G.Flagged)return;if(i.state===G.Opened&&i.numNeighborMines!==0){let o=0,r=0;for(let a=0;a<9;a++){const d=a%3-1,m=Math.floor(a/3)-1,f=d+l,c=m+t;if(f<0||f>=s.width||c<0||c>=s.height)continue;const h=c*s.width+f,u=s.board[h];u.state===G.Flagged&&o++,u.state!==G.Opened&&r++}if(o===i.numNeighborMines){for(let a=0;a<9;a++){const d=a%3-1,m=Math.floor(a/3)-1,f=d+l,c=m+t;if(f<0||f>=s.width||c<0||c>=s.height)continue;const h=c*s.width+f,u=s.board[h];(u==null?void 0:u.state)===G.Closed&&je(s,h)}return}else if(r===i.numNeighborMines){for(let a=0;a<9;a++){const d=a%3-1,m=Math.floor(a/3)-1,f=d+l,c=m+t;if(f<0||f>=s.width||c<0||c>=s.height)continue;const h=c*s.width+f,u=s.board[h];(u==null?void 0:u.state)===G.Closed&&ge(s,h)}return}else return}else if(i.state===G.Opened)return;if(ye.update(o=>(!o||s.sizeDesc==="custom"||(o[s.sizeDesc].cellsOpened+=1),o)),i.state=G.Opened,s.firstMove){const o=[];for(let r=0;r<9;r++){const a=r%3-1,d=Math.floor(r/3)-1,m=(t+d)*s.width+(l+a);o.push(m)}for(let r=0;r<9;r++){const a=r%3-1,d=Math.floor(r/3)-1,m=(t+d)*s.width+(l+a),f=s.board[m];(f==null?void 0:f.type)===x.Mine&&(f.type=x.Empty,Ze(s,o))}Je(s)}s.firstMove=!1,i.type===x.Empty&&i.numNeighborMines===0&&nt(s,l,t),i.type===x.Mine&&ot(s,e);let n=!0;for(let o=0;o<s.width*s.height;o++)s.board[o].type!==x.Mine&&s.board[o].state!==G.Opened&&(n=!1);n&&rt(s)},ge=(s,e)=>{if(s.state!==q.Playing)return;let i=s.board[e];i.state===G.Closed?i.state=G.Flagged:i.state===G.Flagged&&(i.state=G.Closed)},nt=(s,e,i)=>{var l;for(let t=0;t<9;t++){const n=t%3-1,o=Math.floor(t/3)-1,r=e+n,a=i+o;if(r<0||r>=s.width||a<0||a>=s.height||n===0&&o===0)continue;const d=a*s.width+r;((l=s.board)==null?void 0:l[d].state)===G.Closed&&je(s,d)}},ot=(s,e)=>{ye.update(i=>(!i||s.sizeDesc==="custom"||(i[s.sizeDesc].gamesLost+=1),i)),s.state=q.Lost,s.lostToCell=e;for(let i=0;i<s.width*s.height;i++){let l=s.board[i];l.type===x.Mine&&(l.state=G.Opened)}},rt=s=>{ye.update(e=>{if(!e||s.sizeDesc==="custom")return e;const i=e[s.sizeDesc];return i.gamesWon++,i.times.length>20&&i.times.shift(),i.times.push(s.stats.timePlayed),i.times.sort((l,t)=>l-t),i.averageTime=(i.averageTime*(i.gamesWon-1)+s.stats.timePlayed)/i.gamesWon,e}),s.state=q.Won};function at(s){let e=s[0].numNeighborMines+"",i;return{c(){i=j(e)},l(l){i=C(l,e)},m(l,t){A(l,i,t)},p(l,t){t&1&&e!==(e=l[0].numNeighborMines+"")&&X(i,e)},d(l){l&&v(i)}}}function ft(s){let e,i;return{c(){e=M("img"),this.h()},l(l){e=I(l,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){w(e,"alt","M"),me(e.src,i=Te)||w(e,"src",i),w(e,"class","svelte-ij76jn")},m(l,t){A(l,e,t)},p:re,d(l){l&&v(e)}}}function Ye(s){let e,i,l;return{c(){e=M("div"),this.h()},l(t){e=I(t,"DIV",{class:!0}),E(e).forEach(v),this.h()},h(){var t;w(e,"class","cover svelte-ij76jn"),J(e,"light",(t=s[2])==null?void 0:t.light)},m(t,n){A(t,e,n),l=!0},p(t,n){var o;(!l||n&4)&&J(e,"light",(o=t[2])==null?void 0:o.light)},i(t){l||(i&&i.end(1),l=!0)},o(t){t&&(i=Xe(e,be,{duration:100})),l=!1},d(t){t&&v(e),t&&i&&i.end()}}}function Ae(s){let e,i,l,t;return{c(){e=M("img"),this.h()},l(n){e=I(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){me(e.src,i=Fe)||w(e,"src",i),w(e,"alt","F"),w(e,"class","flag svelte-ij76jn")},m(n,o){A(n,e,o),t=!0},p:re,i(n){t||(n&&Be(()=>{l||(l=De(e,be,{duration:100},!0)),l.run(1)}),t=!0)},o(n){n&&(l||(l=De(e,be,{duration:100},!1)),l.run(0)),t=!1},d(n){n&&v(e),n&&l&&l.end()}}}function ct(s){let e,i,l,t,n=`${s[1]}px`,o,r;function a(h,u){if(h[0].type===x.Mine)return ft;if(h[0].numNeighborMines!==0)return at}let d=a(s),m=d&&d(s),f=s[0].state!==G.Opened&&Ye(s),c=s[0].state===G.Flagged&&Ae();return{c(){e=M("div"),m&&m.c(),i=T(),f&&f.c(),l=T(),c&&c.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var u=E(e);m&&m.l(u),i=F(u),f&&f.l(u),l=F(u),c&&c.l(u),u.forEach(v),this.h()},h(){var h;w(e,"class",t="wrapper "+s[0].state+" svelte-ij76jn"),J(e,"light",(h=s[2])==null?void 0:h.light),le(e,"font-size",n,!1),le(e,"cursor",s[0].numNeighborMines!==0?"pointer":null,!1)},m(h,u){A(h,e,u),m&&m.m(e,null),p(e,i),f&&f.m(e,null),p(e,l),c&&c.m(e,null),o||(r=[ee(e,"contextmenu",We(ut)),ee(e,"pointerdown",s[3]),ee(e,"pointerup",s[4])],o=!0)},p(h,[u]){var _;d===(d=a(h))&&m?m.p(h,u):(m&&m.d(1),m=d&&d(h),m&&(m.c(),m.m(e,i))),h[0].state!==G.Opened?f?(f.p(h,u),u&1&&P(f,1)):(f=Ye(h),f.c(),P(f,1),f.m(e,l)):f&&(ae(),L(f,1,1,()=>{f=null}),fe()),h[0].state===G.Flagged?c?(c.p(h,u),u&1&&P(c,1)):(c=Ae(),c.c(),P(c,1),c.m(e,null)):c&&(ae(),L(c,1,1,()=>{c=null}),fe()),u&1&&t!==(t="wrapper "+h[0].state+" svelte-ij76jn")&&w(e,"class",t),u&5&&J(e,"light",(_=h[2])==null?void 0:_.light),u&2&&n!==(n=`${h[1]}px`)&&le(e,"font-size",n,!1),u&1&&le(e,"cursor",h[0].numNeighborMines!==0?"pointer":null,!1)},i(h){P(f),P(c)},o(h){L(f),L(c)},d(h){h&&v(e),m&&m.d(),f&&f.d(),c&&c.d(),o=!1,Me(r)}}}const ut=()=>{};function dt(s,e,i){let l;pe(s,Qe,u=>i(2,l=u));let{cell:t}=e,{index:n}=e,{defaultAction:o}=e;const r=()=>{se.update(u=>(o==="open"?je(u,n):o==="flag"&&ge(u,n),u))},a=()=>{se.update(u=>(ge(u,n),u))};let d,m=!1;const f=u=>{if(u.button===2){a();return}d=setTimeout(()=>{a(),m=!0},500)},c=u=>{u.button!==2&&(clearTimeout(d),m||r(),m=!1)};let{fontSize:h}=e;return s.$$set=u=>{"cell"in u&&i(0,t=u.cell),"index"in u&&i(5,n=u.index),"defaultAction"in u&&i(6,o=u.defaultAction),"fontSize"in u&&i(1,h=u.fontSize)},[t,h,l,f,c,n,o]}class ht extends ve{constructor(e){super(),ke(this,e,dt,ct,we,{cell:0,index:5,defaultAction:6,fontSize:1})}}function Oe(s,e,i){const l=s.slice();return l[6]=e[i],l[8]=i,l}function Ve(s){let e,i;return e=new ht({props:{cell:s[6],index:s[8],fontSize:s[3],defaultAction:s[1]}}),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){de(e,l,t),i=!0},p(l,t){const n={};t&1&&(n.cell=l[6]),t&8&&(n.fontSize=l[3]),t&2&&(n.defaultAction=l[1]),e.$set(n)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){L(e.$$.fragment,l),i=!1},d(l){he(e,l)}}}function _t(s){let e,i,l,t=s[0].board,n=[];for(let r=0;r<t.length;r+=1)n[r]=Ve(Oe(s,t,r));const o=r=>L(n[r],1,1,()=>{n[r]=null});return{c(){e=M("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=I(r,"DIV",{class:!0,style:!0});var a=E(e);for(let d=0;d<n.length;d+=1)n[d].l(a);a.forEach(v),this.h()},h(){var r,a;w(e,"class","board svelte-8k5hco"),w(e,"style",i=`grid-template-columns: repeat(${(r=s[0].width)!=null?r:2}, 1fr); grid-template-rows: repeat(${(a=s[0].height)!=null?a:2}, 1fr);`)},m(r,a){A(r,e,a);for(let d=0;d<n.length;d+=1)n[d].m(e,null);s[4](e),l=!0},p(r,[a]){var d,m;if(a&11){t=r[0].board;let f;for(f=0;f<t.length;f+=1){const c=Oe(r,t,f);n[f]?(n[f].p(c,a),P(n[f],1)):(n[f]=Ve(c),n[f].c(),P(n[f],1),n[f].m(e,null))}for(ae(),f=t.length;f<n.length;f+=1)o(f);fe()}(!l||a&1&&i!==(i=`grid-template-columns: repeat(${(d=r[0].width)!=null?d:2}, 1fr); grid-template-rows: repeat(${(m=r[0].height)!=null?m:2}, 1fr);`))&&w(e,"style",i)},i(r){if(!l){for(let a=0;a<t.length;a+=1)P(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)L(n[a]);l=!1},d(r){r&&v(e),Ue(n,r),s[4](null)}}}function mt(s,e,i){let{game:l}=e,{defaultAction:t}=e,n,o=0;const r=new ResizeObserver(()=>{var d;i(3,o=((d=n==null?void 0:n.clientWidth)!=null?d:0)/l.width*.8)});function a(d){Ie[d?"unshift":"push"](()=>{n=d,i(2,n)})}return s.$$set=d=>{"game"in d&&i(0,l=d.game),"defaultAction"in d&&i(1,t=d.defaultAction)},s.$$.update=()=>{s.$$.dirty&4&&n&&r.observe(n)},[l,t,n,o,a]}class pt extends ve{constructor(e){super(),ke(this,e,mt,_t,we,{game:0,defaultAction:1})}}function bt(s){var ie,ne,R,z;let e,i,l=((ie=s[1])==null?void 0:ie.title)+"",t,n,o,r,a,d,m,f,c,h,u,_,g,b,B,O=((ne=s[1])==null?void 0:ne.numMines)+"",U,Q,H,K=ze((z=(R=s[1])==null?void 0:R.stats.timePlayed)!=null?z:0)+"",$,te,W;return{c(){e=M("div"),i=M("h3"),t=j(l),n=T(),o=M("div"),r=M("div"),a=M("img"),m=T(),f=M("div"),c=M("img"),u=T(),_=M("section"),g=M("p"),b=j(s[0]),B=j(" / "),U=j(O),Q=T(),H=M("p"),$=j(K),this.h()},l(V){e=I(V,"DIV",{class:!0,slot:!0});var N=E(e);i=I(N,"H3",{});var y=E(i);t=C(y,l),y.forEach(v),n=F(N),o=I(N,"DIV",{class:!0});var k=E(o);r=I(k,"DIV",{class:!0});var D=E(r);a=I(D,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),D.forEach(v),m=F(k),f=I(k,"DIV",{class:!0});var S=E(f);c=I(S,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),S.forEach(v),k.forEach(v),u=F(N),_=I(N,"SECTION",{class:!0});var Y=E(_);g=I(Y,"P",{});var Z=E(g);b=C(Z,s[0]),B=C(Z," / "),U=C(Z,O),Z.forEach(v),Q=F(Y),H=I(Y,"P",{});var oe=E(H);$=C(oe,K),oe.forEach(v),Y.forEach(v),N.forEach(v),this.h()},h(){me(a.src,d=Te)||w(a,"src",d),w(a,"alt",""),w(a,"draggable","false"),w(a,"class","svelte-15fijm3"),w(r,"class","default-action-child svelte-15fijm3"),J(r,"selected",s[5]==="open"),me(c.src,h=Fe)||w(c,"src",h),w(c,"alt",""),w(c,"draggable","false"),w(c,"class","svelte-15fijm3"),w(f,"class","default-action-child svelte-15fijm3"),J(f,"selected",s[5]==="flag"),w(o,"class","default-action svelte-15fijm3"),le(g,"color",s[4],!1),w(_,"class","stats svelte-15fijm3"),w(e,"class","sidebar svelte-15fijm3"),w(e,"slot","sidebar")},m(V,N){A(V,e,N),p(e,i),p(i,t),p(e,n),p(e,o),p(o,r),p(r,a),p(o,m),p(o,f),p(f,c),p(e,u),p(e,_),p(_,g),p(g,b),p(g,B),p(g,U),p(_,Q),p(_,H),p(H,$),te||(W=[ee(r,"click",s[10]),ee(f,"click",s[11])],te=!0)},p(V,N){var y,k,D,S;N&2&&l!==(l=((y=V[1])==null?void 0:y.title)+"")&&X(t,l),N&32&&J(r,"selected",V[5]==="open"),N&32&&J(f,"selected",V[5]==="flag"),N&1&&X(b,V[0]),N&2&&O!==(O=((k=V[1])==null?void 0:k.numMines)+"")&&X(U,O),N&16&&le(g,"color",V[4],!1),N&2&&K!==(K=ze((S=(D=V[1])==null?void 0:D.stats.timePlayed)!=null?S:0)+"")&&X($,K)},d(V){V&&v(e),te=!1,Me(W)}}}function gt(s){let e,i;return{c(){e=M("p"),i=j("Loading...")},l(l){e=I(l,"P",{});var t=E(e);i=C(t,"Loading..."),t.forEach(v)},m(l,t){A(l,e,t),p(e,i)},p:re,i:re,o:re,d(l){l&&v(e)}}}function vt(s){let e,i;return e=new pt({props:{game:s[1],defaultAction:s[5]}}),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){de(e,l,t),i=!0},p(l,t){const n={};t&2&&(n.game=l[1]),t&32&&(n.defaultAction=l[5]),e.$set(n)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){L(e.$$.fragment,l),i=!1},d(l){he(e,l)}}}function kt(s){let e,i,l,t,n,o=s[1].width+"",r,a,d=s[1].height+"",m,f,c=s[1].numMines+"",h,u;return{c(){e=M("h2"),i=j("You Lost!"),l=T(),t=M("p"),n=j("You lost on a "),r=j(o),a=j("x"),m=j(d),f=j(`\r
                        board with `),h=j(c),u=j(" mines.")},l(_){e=I(_,"H2",{});var g=E(e);i=C(g,"You Lost!"),g.forEach(v),l=F(_),t=I(_,"P",{});var b=E(t);n=C(b,"You lost on a "),r=C(b,o),a=C(b,"x"),m=C(b,d),f=C(b,`\r
                        board with `),h=C(b,c),u=C(b," mines."),b.forEach(v)},m(_,g){A(_,e,g),p(e,i),A(_,l,g),A(_,t,g),p(t,n),p(t,r),p(t,a),p(t,m),p(t,f),p(t,h),p(t,u)},p(_,g){g&2&&o!==(o=_[1].width+"")&&X(r,o),g&2&&d!==(d=_[1].height+"")&&X(m,d),g&2&&c!==(c=_[1].numMines+"")&&X(h,c)},d(_){_&&v(e),_&&v(l),_&&v(t)}}}function wt(s){let e,i,l,t,n,o=s[1].width+"",r,a,d=s[1].height+"",m,f,c=s[1].numMines+"",h,u;return{c(){e=M("h2"),i=j("You Won!"),l=T(),t=M("p"),n=j("Congratulations, you won on a "),r=j(o),a=j("x"),m=j(d),f=j(`\r
                        board with `),h=j(c),u=j(" mines.")},l(_){e=I(_,"H2",{});var g=E(e);i=C(g,"You Won!"),g.forEach(v),l=F(_),t=I(_,"P",{});var b=E(t);n=C(b,"Congratulations, you won on a "),r=C(b,o),a=C(b,"x"),m=C(b,d),f=C(b,`\r
                        board with `),h=C(b,c),u=C(b," mines."),b.forEach(v)},m(_,g){A(_,e,g),p(e,i),A(_,l,g),A(_,t,g),p(t,n),p(t,r),p(t,a),p(t,m),p(t,f),p(t,h),p(t,u)},p(_,g){g&2&&o!==(o=_[1].width+"")&&X(r,o),g&2&&d!==(d=_[1].height+"")&&X(m,d),g&2&&c!==(c=_[1].numMines+"")&&X(h,c)},d(_){_&&v(e),_&&v(l),_&&v(t)}}}function Le(s){let e,i,l;return i=new it({props:{game:s[1],showMines:!0}}),{c(){e=M("div"),ce(i.$$.fragment),this.h()},l(t){e=I(t,"DIV",{class:!0});var n=E(e);ue(i.$$.fragment,n),n.forEach(v),this.h()},h(){w(e,"class","mini-board svelte-15fijm3")},m(t,n){A(t,e,n),de(i,e,null),l=!0},p(t,n){const o={};n&2&&(o.game=t[1]),i.$set(o)},i(t){l||(P(i.$$.fragment,t),l=!0)},o(t){L(i.$$.fragment,t),l=!1},d(t){t&&v(e),he(i)}}}function Mt(s){let e,i,l,t,n,o,r,a,d,m,f,c,h,u,_,g,b,B,O,U,Q,H,K,$;const te=[vt,gt],W=[];function ie(k,D){return k[1]?0:1}i=ie(s),l=W[i]=te[i](s);function ne(k,D){var S,Y;if(((S=k[1])==null?void 0:S.state)===q.Won)return wt;if(((Y=k[1])==null?void 0:Y.state)===q.Lost)return kt}let R=ne(s),z=R&&R(s);function V(k){s[8](k)}let N={};s[3]!==void 0&&(N.checked=s[3]),c=new xe({props:N}),Ie.push(()=>Ke(c,"checked",V));let y=s[1]&&Le(s);return{c(){e=M("div"),l.c(),t=T(),n=M("dialog"),o=M("div"),z&&z.c(),r=T(),a=M("div"),d=M("p"),m=j("Keep Game"),f=T(),ce(c.$$.fragment),u=T(),_=M("div"),g=M("button"),b=j("Back to Menu"),B=T(),O=M("button"),U=j("New Game"),Q=T(),y&&y.c(),this.h()},l(k){e=I(k,"DIV",{class:!0,slot:!0});var D=E(e);l.l(D),t=F(D),n=I(D,"DIALOG",{class:!0});var S=E(n);o=I(S,"DIV",{class:!0});var Y=E(o);z&&z.l(Y),r=F(Y),a=I(Y,"DIV",{class:!0});var Z=E(a);d=I(Z,"P",{class:!0});var oe=E(d);m=C(oe,"Keep Game"),oe.forEach(v),f=F(Z),ue(c.$$.fragment,Z),Z.forEach(v),u=F(Y),_=I(Y,"DIV",{class:!0});var _e=E(_);g=I(_e,"BUTTON",{class:!0});var Ce=E(g);b=C(Ce,"Back to Menu"),Ce.forEach(v),B=F(_e),O=I(_e,"BUTTON",{class:!0});var Ee=E(O);U=C(Ee,"New Game"),Ee.forEach(v),_e.forEach(v),Y.forEach(v),Q=F(S),y&&y.l(S),S.forEach(v),D.forEach(v),this.h()},h(){w(d,"class","svelte-15fijm3"),w(a,"class","keep-game-wrapper svelte-15fijm3"),w(g,"class","goto-menu"),w(O,"class","new-game"),w(_,"class","buttons-container-vertical svelte-15fijm3"),w(o,"class","modal-main svelte-15fijm3"),w(n,"class","aftergame-modal svelte-15fijm3"),w(e,"class","wrapper svelte-15fijm3"),w(e,"slot","content")},m(k,D){A(k,e,D),W[i].m(e,null),p(e,t),p(e,n),p(n,o),z&&z.m(o,null),p(o,r),p(o,a),p(a,d),p(d,m),p(a,f),de(c,a,null),p(o,u),p(o,_),p(_,g),p(g,b),p(_,B),p(_,O),p(O,U),p(n,Q),y&&y.m(n,null),s[9](n),H=!0,K||($=[ee(g,"click",s[7]),ee(O,"click",s[6])],K=!0)},p(k,D){let S=i;i=ie(k),i===S?W[i].p(k,D):(ae(),L(W[S],1,1,()=>{W[S]=null}),fe(),l=W[i],l?l.p(k,D):(l=W[i]=te[i](k),l.c()),P(l,1),l.m(e,t)),R===(R=ne(k))&&z?z.p(k,D):(z&&z.d(1),z=R&&R(k),z&&(z.c(),z.m(o,r)));const Y={};!h&&D&8&&(h=!0,Y.checked=k[3],Re(()=>h=!1)),c.$set(Y),k[1]?y?(y.p(k,D),D&2&&P(y,1)):(y=Le(k),y.c(),P(y,1),y.m(n,null)):y&&(ae(),L(y,1,1,()=>{y=null}),fe())},i(k){H||(P(l),P(c.$$.fragment,k),P(y),H=!0)},o(k){L(l),L(c.$$.fragment,k),L(y),H=!1},d(k){k&&v(e),W[i].d(),z&&z.d(),he(c),y&&y.d(),s[9](null),K=!1,Me($)}}}function It(s){let e,i;return e=new $e({props:{fullContent:!0,$$slots:{content:[Mt],sidebar:[bt]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){de(e,l,t),i=!0},p(l,[t]){const n={};t&16447&&(n.$$scope={dirty:t,ctx:l}),e.$set(n)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){L(e.$$.fragment,l),i=!1},d(l){he(e,l)}}}function yt(s,e,i){let l,t,n;pe(s,se,b=>i(1,t=b)),pe(s,et,b=>i(13,n=b));let o,r;se.subscribe(b=>{if((b==null?void 0:b.state)!==q.Playing){clearInterval(r);try{o==null||o.showModal()}catch{}}}),He(()=>{t===null?Ne(`${Se}`):t.state!==q.Playing&&o.showModal(),(t==null?void 0:t.state)===q.Playing&&(r=setInterval(()=>{Ge(se,t.stats.timePlayed+=1,t)},1e3))}),qe(()=>{clearInterval(r)});let a=!0;const d=()=>{clearInterval(r),a||Pe(n),tt(lt(st[t.width],t.sizeDesc)),o.close(),r=setInterval(()=>{Ge(se,t.stats.timePlayed+=1,t)},1e3)},m=()=>{a||Pe(n),Ne(`${Se}`),o.close()};let f,c="open";function h(b){a=b,i(3,a)}function u(b){Ie[b?"unshift":"push"](()=>{o=b,i(2,o)})}const _=()=>i(5,c="open"),g=()=>i(5,c="flag");return s.$$.update=()=>{var b,B;s.$$.dirty&2&&i(0,l=t==null?void 0:t.board.reduce((O,U)=>O+(U.state===G.Flagged?1:0),0)),s.$$.dirty&3&&(l>((b=t==null?void 0:t.numMines)!=null?b:0)?i(4,f="red"):l===((B=t==null?void 0:t.numMines)!=null?B:0)&&(t==null?void 0:t.state)===q.Won?i(4,f="green"):i(4,f=null))},[l,t,o,a,f,c,d,m,h,u,_,g]}class Dt extends ve{constructor(e){super(),ke(this,e,yt,It,we,{})}}export{Dt as default};

import{S as we,i as Me,s as Ie,k as M,a as X,l as I,m as C,c as F,h as v,n as w,N as J,p as te,b as D,G as p,K as se,Y as Be,f as S,g as ae,t as L,d as fe,Z as ye,H as ge,a3 as We,L as pe,A as re,U as Te,V as Ge,q as z,r as E,u as W,a4 as Ue,v as ce,w as ue,x as de,y as he,W as ze,o as He,a2 as Ye,a5 as qe,_ as Ke,$ as Re}from"../../../chunks/index-5591f0db.js";import{G as q,e as Y,f as be,h as x,i as Ze,r as Je,j as Qe,k as me,m as le,S as $e,t as Ne,C as xe,c as et,g as Pe,l as tt,n as lt,a as st,M as nt,d as Se}from"../../../chunks/MiniBoard-05bfd2be.js";import{c as Ae}from"../../../chunks/singletons-40119890.js";const Xe=""+new URL("../../../assets/red_mine-cc7afd62.jpg",import.meta.url).href,Fe=""+new URL("../../../assets/red_flag-cf5f7b44.jpg",import.meta.url).href,ve=(s,e)=>{var h;if(s.state!==q.Playing)return;const n=s.board[e];let l=e%s.width,t=Math.floor(e/s.height);if(n.state===Y.Flagged)return;if(n.state===Y.Opened&&n.numNeighborMines!==0){let o=0,c=0;for(let a=0;a<9;a++){const u=a%3-1,r=Math.floor(a/3)-1,f=u+l,_=r+t;if(f<0||f>=s.width||_<0||_>=s.height)continue;const b=_*s.width+f,d=s.board[b];(d==null?void 0:d.state)===Y.Flagged&&o++}for(let a=0;a<9;a++){const u=a%3-1,r=Math.floor(a/3)-1,f=u+l,_=r+t;if(f<0||f>=s.width||_<0||_>=s.height)continue;const b=_*s.width+f,d=s.board[b];(d==null?void 0:d.state)===Y.Closed&&c++}if(o===n.numNeighborMines){for(let a=0;a<9;a++){const u=a%3-1,r=Math.floor(a/3)-1,f=u+l,_=r+t;if(f<0||f>=s.width||_<0||_>=s.height)continue;const b=_*s.width+f,d=s.board[b];(d==null?void 0:d.state)===Y.Closed&&ve(s,b)}return}else if(c+o===n.numNeighborMines){for(let a=0;a<9;a++){const u=a%3-1,r=Math.floor(a/3)-1,f=u+l,_=r+t;if(f<0||f>=s.width||_<0||_>=s.height)continue;const b=_*s.width+f,d=s.board[b];(d==null?void 0:d.state)===Y.Closed&&ke(s,b)}return}else return}else if(n.state===Y.Opened)return;if(be.update(o=>o&&(o.cellsOpened+=1,o)),n.state=Y.Opened,s.firstMove){const o=[];for(let c=0;c<9;c++){const a=c%3-1,u=Math.floor(c/3)-1,r=(t+u)*s.width+(l+a);o.push(r)}for(let c=0;c<9;c++){const a=c%3-1,u=Math.floor(c/3)-1,r=(t+u)*s.width+(l+a),f=s.board[r];(f==null?void 0:f.type)===x.Mine&&(f.type=x.Empty,Ze(s,o))}Je(s)}if(s.firstMove=!1,n.type===x.Empty&&n.numNeighborMines===0)for(let o=0;o<9;o++){const c=o%3-1,a=Math.floor(o/3)-1,u=l+c,r=t+a;if(u<0||u>=s.width||r<0||r>=s.height||c===0&&a===0)continue;const f=r*s.width+u;((h=s.board)==null?void 0:h[f].state)===Y.Closed&&ve(s,f)}if(n.type===x.Mine){be.update(o=>o&&(o.gamesLost+=1,o)),s.state=q.Lost,s.lostToCell=e;for(let o=0;o<s.width*s.height;o++){let c=s.board[o];c.type===x.Mine&&(c.state=Y.Opened)}}let i=!0;for(let o=0;o<s.width*s.height;o++)s.board[o].type!==x.Mine&&s.board[o].state!==Y.Opened&&(i=!1);i&&(be.update(o=>o&&(o.gamesWon+=1,o)),s.state=q.Won)},ke=(s,e)=>{if(s.state!==q.Playing)return;let n=s.board[e];n.state===Y.Closed?n.state=Y.Flagged:n.state===Y.Flagged&&(n.state=Y.Closed)};function it(s){let e=s[0].numNeighborMines+"",n;return{c(){n=z(e)},l(l){n=E(l,e)},m(l,t){D(l,n,t)},p(l,t){t&1&&e!==(e=l[0].numNeighborMines+"")&&W(n,e)},d(l){l&&v(n)}}}function ot(s){let e,n;return{c(){e=M("img"),this.h()},l(l){e=I(l,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){w(e,"alt","M"),pe(e.src,n=Xe)||w(e,"src",n),w(e,"class","svelte-ij76jn")},m(l,t){D(l,e,t)},p:re,d(l){l&&v(e)}}}function Oe(s){let e,n,l;return{c(){e=M("div"),this.h()},l(t){e=I(t,"DIV",{class:!0}),C(e).forEach(v),this.h()},h(){var t;w(e,"class","cover svelte-ij76jn"),J(e,"light",(t=s[2])==null?void 0:t.light)},m(t,i){D(t,e,i),l=!0},p(t,i){var h;(!l||i&4)&&J(e,"light",(h=t[2])==null?void 0:h.light)},i(t){l||(n&&n.end(1),l=!0)},o(t){t&&(n=We(e,me,{duration:100})),l=!1},d(t){t&&v(e),t&&n&&n.end()}}}function De(s){let e,n,l,t;return{c(){e=M("img"),this.h()},l(i){e=I(i,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){pe(e.src,n=Fe)||w(e,"src",n),w(e,"alt","F"),w(e,"class","flag svelte-ij76jn")},m(i,h){D(i,e,h),t=!0},p:re,i(i){t||(i&&Te(()=>{l||(l=Ge(e,me,{duration:100},!0)),l.run(1)}),t=!0)},o(i){i&&(l||(l=Ge(e,me,{duration:100},!1)),l.run(0)),t=!1},d(i){i&&v(e),i&&l&&l.end()}}}function rt(s){let e,n,l,t,i=`${s[1]}px`,h,o;function c(_,b){if(_[0].type===x.Mine)return ot;if(_[0].numNeighborMines!==0)return it}let a=c(s),u=a&&a(s),r=s[0].state!==Y.Opened&&Oe(s),f=s[0].state===Y.Flagged&&De();return{c(){e=M("div"),u&&u.c(),n=X(),r&&r.c(),l=X(),f&&f.c(),this.h()},l(_){e=I(_,"DIV",{class:!0});var b=C(e);u&&u.l(b),n=F(b),r&&r.l(b),l=F(b),f&&f.l(b),b.forEach(v),this.h()},h(){var _;w(e,"class",t="wrapper "+s[0].state+" svelte-ij76jn"),J(e,"light",(_=s[2])==null?void 0:_.light),te(e,"font-size",i,!1),te(e,"cursor",s[0].numNeighborMines!==0?"pointer":null,!1)},m(_,b){D(_,e,b),u&&u.m(e,null),p(e,n),r&&r.m(e,null),p(e,l),f&&f.m(e,null),h||(o=[se(e,"click",s[3]),se(e,"contextmenu",Be(s[4]))],h=!0)},p(_,[b]){var d;a===(a=c(_))&&u?u.p(_,b):(u&&u.d(1),u=a&&a(_),u&&(u.c(),u.m(e,n))),_[0].state!==Y.Opened?r?(r.p(_,b),b&1&&S(r,1)):(r=Oe(_),r.c(),S(r,1),r.m(e,l)):r&&(ae(),L(r,1,1,()=>{r=null}),fe()),_[0].state===Y.Flagged?f?(f.p(_,b),b&1&&S(f,1)):(f=De(),f.c(),S(f,1),f.m(e,null)):f&&(ae(),L(f,1,1,()=>{f=null}),fe()),b&1&&t!==(t="wrapper "+_[0].state+" svelte-ij76jn")&&w(e,"class",t),b&5&&J(e,"light",(d=_[2])==null?void 0:d.light),b&2&&i!==(i=`${_[1]}px`)&&te(e,"font-size",i,!1),b&1&&te(e,"cursor",_[0].numNeighborMines!==0?"pointer":null,!1)},i(_){S(r),S(f)},o(_){L(r),L(f)},d(_){_&&v(e),u&&u.d(),r&&r.d(),f&&f.d(),h=!1,ye(o)}}}function at(s,e,n){let l;ge(s,Qe,u=>n(2,l=u));let{cell:t}=e,{index:i}=e,{defaultAction:h}=e;const o=u=>{u.button===0&&le.update(r=>(h==="open"?ve(r,i):h==="flag"&&ke(r,i),r))},c=()=>{le.update(u=>(ke(u,i),u))};let{fontSize:a}=e;return s.$$set=u=>{"cell"in u&&n(0,t=u.cell),"index"in u&&n(5,i=u.index),"defaultAction"in u&&n(6,h=u.defaultAction),"fontSize"in u&&n(1,a=u.fontSize)},[t,a,l,o,c,i,h]}class ft extends we{constructor(e){super(),Me(this,e,at,rt,Ie,{cell:0,index:5,defaultAction:6,fontSize:1})}}function je(s,e,n){const l=s.slice();return l[6]=e[n],l[8]=n,l}function Ve(s){let e,n;return e=new ft({props:{cell:s[6],index:s[8],fontSize:s[3],defaultAction:s[1]}}),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){de(e,l,t),n=!0},p(l,t){const i={};t&1&&(i.cell=l[6]),t&8&&(i.fontSize=l[3]),t&2&&(i.defaultAction=l[1]),e.$set(i)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){he(e,l)}}}function ct(s){let e,n,l,t=s[0].board,i=[];for(let o=0;o<t.length;o+=1)i[o]=Ve(je(s,t,o));const h=o=>L(i[o],1,1,()=>{i[o]=null});return{c(){e=M("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=I(o,"DIV",{class:!0,style:!0});var c=C(e);for(let a=0;a<i.length;a+=1)i[a].l(c);c.forEach(v),this.h()},h(){var o,c;w(e,"class","board svelte-8k5hco"),w(e,"style",n=`grid-template-columns: repeat(${(o=s[0].width)!=null?o:2}, 1fr); grid-template-rows: repeat(${(c=s[0].height)!=null?c:2}, 1fr);`)},m(o,c){D(o,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);s[4](e),l=!0},p(o,[c]){var a,u;if(c&11){t=o[0].board;let r;for(r=0;r<t.length;r+=1){const f=je(o,t,r);i[r]?(i[r].p(f,c),S(i[r],1)):(i[r]=Ve(f),i[r].c(),S(i[r],1),i[r].m(e,null))}for(ae(),r=t.length;r<i.length;r+=1)h(r);fe()}(!l||c&1&&n!==(n=`grid-template-columns: repeat(${(a=o[0].width)!=null?a:2}, 1fr); grid-template-rows: repeat(${(u=o[0].height)!=null?u:2}, 1fr);`))&&w(e,"style",n)},i(o){if(!l){for(let c=0;c<t.length;c+=1)S(i[c]);l=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)L(i[c]);l=!1},d(o){o&&v(e),Ue(i,o),s[4](null)}}}function ut(s,e,n){let{game:l}=e,{defaultAction:t}=e,i,h=0;const o=new ResizeObserver(()=>{var a;n(3,h=((a=i==null?void 0:i.clientWidth)!=null?a:0)/l.width*.8)});function c(a){ze[a?"unshift":"push"](()=>{i=a,n(2,i)})}return s.$$set=a=>{"game"in a&&n(0,l=a.game),"defaultAction"in a&&n(1,t=a.defaultAction)},s.$$.update=()=>{s.$$.dirty&4&&i&&o.observe(i)},[l,t,i,h,c]}class dt extends we{constructor(e){super(),Me(this,e,ut,ct,Ie,{game:0,defaultAction:1})}}function ht(s){var ne,ie,R,N;let e,n,l=((ne=s[1])==null?void 0:ne.title)+"",t,i,h,o,c,a,u,r,f,_,b,d,m,g,T,j=((ie=s[1])==null?void 0:ie.numMines)+"",U,Q,H,K=Ne((N=(R=s[1])==null?void 0:R.stats.timePlayed)!=null?N:0)+"",$,ee,B;return{c(){e=M("div"),n=M("h3"),t=z(l),i=X(),h=M("div"),o=M("div"),c=M("img"),u=X(),r=M("div"),f=M("img"),b=X(),d=M("section"),m=M("p"),g=z(s[0]),T=z(" / "),U=z(j),Q=X(),H=M("p"),$=z(K),this.h()},l(V){e=I(V,"DIV",{class:!0,slot:!0});var P=C(e);n=I(P,"H3",{});var y=C(n);t=E(y,l),y.forEach(v),i=F(P),h=I(P,"DIV",{class:!0});var k=C(h);o=I(k,"DIV",{class:!0});var G=C(o);c=I(G,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),G.forEach(v),u=F(k),r=I(k,"DIV",{class:!0});var A=C(r);f=I(A,"IMG",{src:!0,alt:!0,draggable:!0,class:!0}),A.forEach(v),k.forEach(v),b=F(P),d=I(P,"SECTION",{class:!0});var O=C(d);m=I(O,"P",{});var Z=C(m);g=E(Z,s[0]),T=E(Z," / "),U=E(Z,j),Z.forEach(v),Q=F(O),H=I(O,"P",{});var oe=C(H);$=E(oe,K),oe.forEach(v),O.forEach(v),P.forEach(v),this.h()},h(){pe(c.src,a=Xe)||w(c,"src",a),w(c,"alt",""),w(c,"draggable","false"),w(c,"class","svelte-117nzph"),w(o,"class","default-action-child svelte-117nzph"),J(o,"selected",s[5]==="open"),pe(f.src,_=Fe)||w(f,"src",_),w(f,"alt",""),w(f,"draggable","false"),w(f,"class","svelte-117nzph"),w(r,"class","default-action-child svelte-117nzph"),J(r,"selected",s[5]==="flag"),w(h,"class","default-action svelte-117nzph"),te(m,"color",s[4],!1),w(d,"class","stats svelte-117nzph"),w(e,"class","sidebar svelte-117nzph"),w(e,"slot","sidebar")},m(V,P){D(V,e,P),p(e,n),p(n,t),p(e,i),p(e,h),p(h,o),p(o,c),p(h,u),p(h,r),p(r,f),p(e,b),p(e,d),p(d,m),p(m,g),p(m,T),p(m,U),p(d,Q),p(d,H),p(H,$),ee||(B=[se(o,"click",s[10]),se(r,"click",s[11])],ee=!0)},p(V,P){var y,k,G,A;P&2&&l!==(l=((y=V[1])==null?void 0:y.title)+"")&&W(t,l),P&32&&J(o,"selected",V[5]==="open"),P&32&&J(r,"selected",V[5]==="flag"),P&1&&W(g,V[0]),P&2&&j!==(j=((k=V[1])==null?void 0:k.numMines)+"")&&W(U,j),P&16&&te(m,"color",V[4],!1),P&2&&K!==(K=Ne((A=(G=V[1])==null?void 0:G.stats.timePlayed)!=null?A:0)+"")&&W($,K)},d(V){V&&v(e),ee=!1,ye(B)}}}function _t(s){let e,n;return{c(){e=M("p"),n=z("Loading...")},l(l){e=I(l,"P",{});var t=C(e);n=E(t,"Loading..."),t.forEach(v)},m(l,t){D(l,e,t),p(e,n)},p:re,i:re,o:re,d(l){l&&v(e)}}}function pt(s){let e,n;return e=new dt({props:{game:s[1],defaultAction:s[5]}}),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){de(e,l,t),n=!0},p(l,t){const i={};t&2&&(i.game=l[1]),t&32&&(i.defaultAction=l[5]),e.$set(i)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){he(e,l)}}}function bt(s){let e,n,l,t,i,h=s[1].width+"",o,c,a=s[1].height+"",u,r,f=s[1].numMines+"",_,b;return{c(){e=M("h2"),n=z("You Lost!"),l=X(),t=M("p"),i=z("You lost on a "),o=z(h),c=z("x"),u=z(a),r=z(`\r
                        board with `),_=z(f),b=z(" mines.")},l(d){e=I(d,"H2",{});var m=C(e);n=E(m,"You Lost!"),m.forEach(v),l=F(d),t=I(d,"P",{});var g=C(t);i=E(g,"You lost on a "),o=E(g,h),c=E(g,"x"),u=E(g,a),r=E(g,`\r
                        board with `),_=E(g,f),b=E(g," mines."),g.forEach(v)},m(d,m){D(d,e,m),p(e,n),D(d,l,m),D(d,t,m),p(t,i),p(t,o),p(t,c),p(t,u),p(t,r),p(t,_),p(t,b)},p(d,m){m&2&&h!==(h=d[1].width+"")&&W(o,h),m&2&&a!==(a=d[1].height+"")&&W(u,a),m&2&&f!==(f=d[1].numMines+"")&&W(_,f)},d(d){d&&v(e),d&&v(l),d&&v(t)}}}function gt(s){let e,n,l,t,i,h=s[1].width+"",o,c,a=s[1].height+"",u,r,f=s[1].numMines+"",_,b;return{c(){e=M("h2"),n=z("You Won!"),l=X(),t=M("p"),i=z("Congratulations, you won on a "),o=z(h),c=z("x"),u=z(a),r=z(`\r
                        board with `),_=z(f),b=z(" mines.")},l(d){e=I(d,"H2",{});var m=C(e);n=E(m,"You Won!"),m.forEach(v),l=F(d),t=I(d,"P",{});var g=C(t);i=E(g,"Congratulations, you won on a "),o=E(g,h),c=E(g,"x"),u=E(g,a),r=E(g,`\r
                        board with `),_=E(g,f),b=E(g," mines."),g.forEach(v)},m(d,m){D(d,e,m),p(e,n),D(d,l,m),D(d,t,m),p(t,i),p(t,o),p(t,c),p(t,u),p(t,r),p(t,_),p(t,b)},p(d,m){m&2&&h!==(h=d[1].width+"")&&W(o,h),m&2&&a!==(a=d[1].height+"")&&W(u,a),m&2&&f!==(f=d[1].numMines+"")&&W(_,f)},d(d){d&&v(e),d&&v(l),d&&v(t)}}}function Le(s){let e,n,l;return n=new nt({props:{game:s[1],showMines:!0}}),{c(){e=M("div"),ce(n.$$.fragment),this.h()},l(t){e=I(t,"DIV",{class:!0});var i=C(e);ue(n.$$.fragment,i),i.forEach(v),this.h()},h(){w(e,"class","mini-board svelte-117nzph")},m(t,i){D(t,e,i),de(n,e,null),l=!0},p(t,i){const h={};i&2&&(h.game=t[1]),n.$set(h)},i(t){l||(S(n.$$.fragment,t),l=!0)},o(t){L(n.$$.fragment,t),l=!1},d(t){t&&v(e),he(n)}}}function mt(s){let e,n,l,t,i,h,o,c,a,u,r,f,_,b,d,m,g,T,j,U,Q,H,K,$;const ee=[pt,_t],B=[];function ne(k,G){return k[1]?0:1}n=ne(s),l=B[n]=ee[n](s);function ie(k,G){var A,O;if(((A=k[1])==null?void 0:A.state)===q.Won)return gt;if(((O=k[1])==null?void 0:O.state)===q.Lost)return bt}let R=ie(s),N=R&&R(s);function V(k){s[8](k)}let P={};s[3]!==void 0&&(P.checked=s[3]),f=new xe({props:P}),ze.push(()=>Ke(f,"checked",V));let y=s[1]&&Le(s);return{c(){e=M("div"),l.c(),t=X(),i=M("dialog"),h=M("div"),N&&N.c(),o=X(),c=M("div"),a=M("p"),u=z("Keep Game"),r=X(),ce(f.$$.fragment),b=X(),d=M("div"),m=M("button"),g=z("Back to Menu"),T=X(),j=M("button"),U=z("New Game"),Q=X(),y&&y.c(),this.h()},l(k){e=I(k,"DIV",{class:!0,slot:!0});var G=C(e);l.l(G),t=F(G),i=I(G,"DIALOG",{class:!0});var A=C(i);h=I(A,"DIV",{class:!0});var O=C(h);N&&N.l(O),o=F(O),c=I(O,"DIV",{class:!0});var Z=C(c);a=I(Z,"P",{class:!0});var oe=C(a);u=E(oe,"Keep Game"),oe.forEach(v),r=F(Z),ue(f.$$.fragment,Z),Z.forEach(v),b=F(O),d=I(O,"DIV",{class:!0});var _e=C(d);m=I(_e,"BUTTON",{class:!0});var Ee=C(m);g=E(Ee,"Back to Menu"),Ee.forEach(v),T=F(_e),j=I(_e,"BUTTON",{class:!0});var Ce=C(j);U=E(Ce,"New Game"),Ce.forEach(v),_e.forEach(v),O.forEach(v),Q=F(A),y&&y.l(A),A.forEach(v),G.forEach(v),this.h()},h(){w(a,"class","svelte-117nzph"),w(c,"class","keep-game-wrapper svelte-117nzph"),w(m,"class","goto-menu"),w(j,"class","new-game"),w(d,"class","buttons-container-vertical svelte-117nzph"),w(h,"class","modal-main svelte-117nzph"),w(i,"class","aftergame-modal svelte-117nzph"),w(e,"class","wrapper svelte-117nzph"),w(e,"slot","content")},m(k,G){D(k,e,G),B[n].m(e,null),p(e,t),p(e,i),p(i,h),N&&N.m(h,null),p(h,o),p(h,c),p(c,a),p(a,u),p(c,r),de(f,c,null),p(h,b),p(h,d),p(d,m),p(m,g),p(d,T),p(d,j),p(j,U),p(i,Q),y&&y.m(i,null),s[9](i),H=!0,K||($=[se(m,"click",s[7]),se(j,"click",s[6])],K=!0)},p(k,G){let A=n;n=ne(k),n===A?B[n].p(k,G):(ae(),L(B[A],1,1,()=>{B[A]=null}),fe(),l=B[n],l?l.p(k,G):(l=B[n]=ee[n](k),l.c()),S(l,1),l.m(e,t)),R===(R=ie(k))&&N?N.p(k,G):(N&&N.d(1),N=R&&R(k),N&&(N.c(),N.m(h,o)));const O={};!_&&G&8&&(_=!0,O.checked=k[3],Re(()=>_=!1)),f.$set(O),k[1]?y?(y.p(k,G),G&2&&S(y,1)):(y=Le(k),y.c(),S(y,1),y.m(i,null)):y&&(ae(),L(y,1,1,()=>{y=null}),fe())},i(k){H||(S(l),S(f.$$.fragment,k),S(y),H=!0)},o(k){L(l),L(f.$$.fragment,k),L(y),H=!1},d(k){k&&v(e),B[n].d(),N&&N.d(),he(f),y&&y.d(),s[9](null),K=!1,ye($)}}}function vt(s){let e,n;return e=new $e({props:{fullContent:!0,$$slots:{content:[mt],sidebar:[ht]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,t){de(e,l,t),n=!0},p(l,[t]){const i={};t&16447&&(i.$$scope={dirty:t,ctx:l}),e.$set(i)},i(l){n||(S(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){he(e,l)}}}function kt(s,e,n){let l,t,i;ge(s,le,g=>n(1,t=g)),ge(s,et,g=>n(13,i=g));let h,o;le.subscribe(g=>{if((g==null?void 0:g.state)!==q.Playing){clearInterval(o);try{h==null||h.showModal()}catch{}}}),He(()=>{t===null?Pe(`${Ae}`):t.state!==q.Playing&&h.showModal(),(t==null?void 0:t.state)===q.Playing&&(o=setInterval(()=>{Ye(le,t.stats.timePlayed+=1,t)},1e3))}),qe(()=>{clearInterval(o)});let c=!0;const a=()=>{clearInterval(o),c||Se(i),tt(lt(st[t.width])),h.close(),o=setInterval(()=>{Ye(le,t.stats.timePlayed+=1,t)},1e3)},u=()=>{c||Se(i),Pe(`${Ae}`),h.close()};let r,f="open";function _(g){c=g,n(3,c)}function b(g){ze[g?"unshift":"push"](()=>{h=g,n(2,h)})}const d=()=>n(5,f="open"),m=()=>n(5,f="flag");return s.$$.update=()=>{var g,T;s.$$.dirty&2&&n(0,l=t==null?void 0:t.board.reduce((j,U)=>j+(U.state===Y.Flagged?1:0),0)),s.$$.dirty&3&&(l>((g=t==null?void 0:t.numMines)!=null?g:0)?n(4,r="red"):l===((T=t==null?void 0:t.numMines)!=null?T:0)&&(t==null?void 0:t.state)===q.Won?n(4,r="green"):n(4,r=null))},[l,t,h,c,r,f,a,u,_,b,d,m]}class yt extends we{constructor(e){super(),Me(this,e,kt,vt,Ie,{})}}export{yt as default};

import{S as ze,i as Le,s as Me,k as G,a as I,v as A,q as S,l as D,m as L,h as d,c as y,w as N,r as E,n as w,b as z,G as m,x as R,X as Ke,K as We,Y as ot,g as he,t as k,d as pe,f as v,u as ie,y as q,Z as ct,o as ft,W as Pe,_ as nt,$ as at,A as ye,H as ut,e as $e,a0 as _t,a1 as mt,a2 as dt,B as ht,N as Xe,D as pt,E as $t,F as gt}from"./index-4f1aec18.js";import{t as Ye,B as x,b as vt,C as it,d as rt,c as Ze,g as bt,s as kt,M as wt,G as je,u as Je}from"./MiniBoard-1bc804b8.js";import{c as St}from"./singletons-7fe40bc0.js";const Et=""+new URL("../assets/delete-a7f9a337.svg",import.meta.url).href,Ct=""+new URL("../assets/play-563e3e7e.svg",import.meta.url).href,Gt=""+new URL("../assets/edit-75638769.svg",import.meta.url).href;function Dt(n){let e;return{c(){e=S("Loading...")},l(t){e=E(t,"Loading...")},m(t,l){z(t,e,l)},p:ye,i:ye,o:ye,d(t){t&&d(e)}}}function It(n){let e,t;return e=new wt({props:{game:n[2],showMines:n[2].state!==je.Playing}}),{c(){A(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const r={};s&4&&(r.game=l[2]),s&4&&(r.showMines=l[2].state!==je.Playing),e.$set(r)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Qe(n){let e,t,l;function s(i){n[9](i)}let r={borderColor:"white",size:1.15};return n[0].selected!==void 0&&(r.checked=n[0].selected),e=new it({props:r}),Pe.push(()=>nt(e,"checked",s)),{c(){A(e.$$.fragment)},l(i){N(e.$$.fragment,i)},m(i,a){R(e,i,a),l=!0},p(i,a){const o={};!t&&a&1&&(t=!0,o.checked=i[0].selected,at(()=>t=!1)),e.$set(o)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){q(e,i)}}}function yt(n){let e;return{c(){e=S("Cancel")},l(t){e=E(t,"Cancel")},m(t,l){z(t,e,l)},d(t){t&&d(e)}}}function zt(n){let e;return{c(){e=S("Change")},l(t){e=E(t,"Change")},m(t,l){z(t,e,l)},d(t){t&&d(e)}}}function Lt(n){var Re,qe,Be,Oe,Ue,He,Te;let e,t,l,s,r,i,a,o,c,f=((Re=n[2])==null?void 0:Re.title)+"",g,P,C,O=((qe=n[2])==null?void 0:qe.width)+"",p,u,h=((Be=n[2])==null?void 0:Be.height)+"",U,re,X=Ye((Ue=(Oe=n[2])==null?void 0:Oe.stats.timePlayed)!=null?Ue:0)+"",ee,ge,ue=((He=n[2])==null?void 0:He.state)+"",me,ve,be,B,Y,ke,Z,we,Se,T,oe,Ee,_e=((Te=n[2])==null?void 0:Te.title)+"",de,Ce,F,M,Ge,j,K,De,J,H,Ie,Ve;const Ae=[It,Dt],Q=[];function Ne(_,$){return _[2]?0:1}l=Ne(n),s=Q[l]=Ae[l](n),o=new x({props:{type:"icon",iconSrc:Gt,padding:0,size:"small"}}),o.$on("click",n[7]),Y=new x({props:{type:"icon",iconSrc:Et,size:"medium",padding:.1}}),Y.$on("click",n[5]),Z=new x({props:{type:"icon",iconSrc:Ct,size:"medium",padding:.1}}),Z.$on("click",n[6]);let b=n[1]&&Qe(n);return K=new x({props:{$$slots:{default:[yt]},$$scope:{ctx:n}}}),K.$on("click",n[11]),J=new x({props:{submit:!0,$$slots:{default:[zt]},$$scope:{ctx:n}}}),{c(){e=G("div"),t=G("div"),s.c(),r=I(),i=G("div"),a=G("p"),A(o.$$.fragment),c=I(),g=S(f),P=I(),C=G("p"),p=S(O),u=S("x"),U=S(h),re=S(" ("),ee=S(X),ge=S(", "),me=S(ue),ve=S(")"),be=I(),B=G("div"),A(Y.$$.fragment),ke=I(),A(Z.$$.fragment),we=I(),b&&b.c(),Se=I(),T=G("dialog"),oe=G("h2"),Ee=S("Rename "),de=S(_e),Ce=I(),F=G("form"),M=G("input"),Ge=I(),j=G("div"),A(K.$$.fragment),De=I(),A(J.$$.fragment),this.h()},l(_){e=D(_,"DIV",{class:!0});var $=L(e);t=D($,"DIV",{class:!0});var ce=L(t);s.l(ce),ce.forEach(d),r=y($),i=D($,"DIV",{class:!0});var te=L(i);a=D(te,"P",{class:!0});var le=L(a);N(o.$$.fragment,le),c=y(le),g=E(le,f),le.forEach(d),P=y(te),C=D(te,"P",{class:!0});var V=L(C);p=E(V,O),u=E(V,"x"),U=E(V,h),re=E(V," ("),ee=E(V,X),ge=E(V,", "),me=E(V,ue),ve=E(V,")"),V.forEach(d),te.forEach(d),be=y($),B=D($,"DIV",{class:!0});var W=L(B);N(Y.$$.fragment,W),ke=y(W),N(Z.$$.fragment,W),we=y(W),b&&b.l(W),W.forEach(d),Se=y($),T=D($,"DIALOG",{class:!0});var se=L(T);oe=D(se,"H2",{});var fe=L(oe);Ee=E(fe,"Rename "),de=E(fe,_e),fe.forEach(d),Ce=y(se),F=D(se,"FORM",{class:!0});var ne=L(F);M=D(ne,"INPUT",{type:!0,name:!0,id:!0,minlength:!0,maxlength:!0}),Ge=y(ne),j=D(ne,"DIV",{class:!0});var ae=L(j);N(K.$$.fragment,ae),De=y(ae),N(J.$$.fragment,ae),ae.forEach(d),ne.forEach(d),se.forEach(d),$.forEach(d),this.h()},h(){w(t,"class","miniboard svelte-1puludw"),w(a,"class","name svelte-1puludw"),w(C,"class","size svelte-1puludw"),w(i,"class","info svelte-1puludw"),w(B,"class","right svelte-1puludw"),w(M,"type","text"),w(M,"name","game-title"),w(M,"id","game-title"),w(M,"minlength","1"),w(M,"maxlength","20"),M.required=!0,w(j,"class","buttons-container"),w(F,"class","svelte-1puludw"),w(T,"class","rename-dialog svelte-1puludw"),w(e,"class","wrapper svelte-1puludw")},m(_,$){z(_,e,$),m(e,t),Q[l].m(t,null),m(e,r),m(e,i),m(i,a),R(o,a,null),m(a,c),m(a,g),m(i,P),m(i,C),m(C,p),m(C,u),m(C,U),m(C,re),m(C,ee),m(C,ge),m(C,me),m(C,ve),m(e,be),m(e,B),R(Y,B,null),m(B,ke),R(Z,B,null),m(B,we),b&&b.m(B,null),m(e,Se),m(e,T),m(T,oe),m(oe,Ee),m(oe,de),m(T,Ce),m(T,F),m(F,M),Ke(M,n[4]),m(F,Ge),m(F,j),R(K,j,null),m(j,De),R(J,j,null),n[12](T),H=!0,Ie||(Ve=[We(M,"input",n[10]),We(F,"submit",ot(n[8]))],Ie=!0)},p(_,[$]){var V,W,se,fe,ne,ae,Fe;let ce=l;l=Ne(_),l===ce?Q[l].p(_,$):(he(),k(Q[ce],1,1,()=>{Q[ce]=null}),pe(),s=Q[l],s?s.p(_,$):(s=Q[l]=Ae[l](_),s.c()),v(s,1),s.m(t,null)),(!H||$&4)&&f!==(f=((V=_[2])==null?void 0:V.title)+"")&&ie(g,f),(!H||$&4)&&O!==(O=((W=_[2])==null?void 0:W.width)+"")&&ie(p,O),(!H||$&4)&&h!==(h=((se=_[2])==null?void 0:se.height)+"")&&ie(U,h),(!H||$&4)&&X!==(X=Ye((ne=(fe=_[2])==null?void 0:fe.stats.timePlayed)!=null?ne:0)+"")&&ie(ee,X),(!H||$&4)&&ue!==(ue=((ae=_[2])==null?void 0:ae.state)+"")&&ie(me,ue),_[1]?b?(b.p(_,$),$&2&&v(b,1)):(b=Qe(_),b.c(),v(b,1),b.m(B,null)):b&&(he(),k(b,1,1,()=>{b=null}),pe()),(!H||$&4)&&_e!==(_e=((Fe=_[2])==null?void 0:Fe.title)+"")&&ie(de,_e),$&16&&M.value!==_[4]&&Ke(M,_[4]);const te={};$&8192&&(te.$$scope={dirty:$,ctx:_}),K.$set(te);const le={};$&8192&&(le.$$scope={dirty:$,ctx:_}),J.$set(le)},i(_){H||(v(s),v(o.$$.fragment,_),v(Y.$$.fragment,_),v(Z.$$.fragment,_),v(b),v(K.$$.fragment,_),v(J.$$.fragment,_),H=!0)},o(_){k(s),k(o.$$.fragment,_),k(Y.$$.fragment,_),k(Z.$$.fragment,_),k(b),k(K.$$.fragment,_),k(J.$$.fragment,_),H=!1},d(_){_&&d(e),Q[l].d(),q(o),q(Y),q(Z),b&&b.d(),q(K),q(J),n[12](null),Ie=!1,ct(Ve)}}}function Mt(n,e,t){let{showSelect:l=!1}=e,{slot:s}=e,r;ft(()=>{t(2,r=vt(s.index))});const i=()=>{rt(s.index)},a=()=>{Ze.set(-1),Ze.set(s.index),bt(`${St}/play`)};let o,c="";const f=()=>{o.showModal(),t(4,c="")},g=()=>{t(2,r.title=c,r),kt(s.index,r),o.close()};function P(u){n.$$.not_equal(s.selected,u)&&(s.selected=u,t(0,s))}function C(){c=this.value,t(4,c)}const O=()=>o.close();function p(u){Pe[u?"unshift":"push"](()=>{o=u,t(3,o)})}return n.$$set=u=>{"showSelect"in u&&t(1,l=u.showSelect),"slot"in u&&t(0,s=u.slot)},[s,l,r,o,c,i,a,f,g,P,C,O,p]}class Pt extends ze{constructor(e){super(),Le(this,e,Mt,Lt,Me,{showSelect:1,slot:0})}}function xe(n,e,t){const l=n.slice();return l[7]=e[t],l}function Vt(n){let e;return{c(){e=S("Select All")},l(t){e=E(t,"Select All")},m(t,l){z(t,e,l)},d(t){t&&d(e)}}}function At(n){let e;return{c(){e=S("Deselect All")},l(t){e=E(t,"Deselect All")},m(t,l){z(t,e,l)},d(t){t&&d(e)}}}function Nt(n){let e;return{c(){e=S("Delete Selected")},l(t){e=E(t,"Delete Selected")},m(t,l){z(t,e,l)},d(t){t&&d(e)}}}function et(n){let e=[],t=new Map,l,s,r,i=n[1];const a=c=>c[7].index;for(let c=0;c<i.length;c+=1){let f=xe(n,i,c),g=a(f);t.set(g,e[c]=tt(g,f))}let o=n[1].length===0&&lt();return{c(){for(let c=0;c<e.length;c+=1)e[c].c();l=I(),o&&o.c(),s=$e()},l(c){for(let f=0;f<e.length;f+=1)e[f].l(c);l=y(c),o&&o.l(c),s=$e()},m(c,f){for(let g=0;g<e.length;g+=1)e[g].m(c,f);z(c,l,f),o&&o.m(c,f),z(c,s,f),r=!0},p(c,f){f&3&&(i=c[1],he(),e=_t(e,f,a,1,c,i,t,l.parentNode,mt,tt,l,xe),pe()),c[1].length===0?o||(o=lt(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(c){if(!r){for(let f=0;f<i.length;f+=1)v(e[f]);r=!0}},o(c){for(let f=0;f<e.length;f+=1)k(e[f]);r=!1},d(c){for(let f=0;f<e.length;f+=1)e[f].d(c);c&&d(l),o&&o.d(c),c&&d(s)}}}function tt(n,e){let t,l,s;return l=new Pt({props:{slot:e[7],showSelect:e[0]}}),{key:n,first:null,c(){t=$e(),A(l.$$.fragment),this.h()},l(r){t=$e(),N(l.$$.fragment,r),this.h()},h(){this.first=t},m(r,i){z(r,t,i),R(l,r,i),s=!0},p(r,i){e=r;const a={};i&2&&(a.slot=e[7]),i&1&&(a.showSelect=e[0]),l.$set(a)},i(r){s||(v(l.$$.fragment,r),s=!0)},o(r){k(l.$$.fragment,r),s=!1},d(r){r&&d(t),q(l,r)}}}function lt(n){let e,t;return{c(){e=G("p"),t=S("No Saved Games"),this.h()},l(l){e=D(l,"P",{class:!0});var s=L(e);t=E(s,"No Saved Games"),s.forEach(d),this.h()},h(){w(e,"class","svelte-154apux")},m(l,s){z(l,e,s),m(e,t)},d(l){l&&d(e)}}}function Rt(n){let e,t,l,s,r,i,a,o,c,f,g,P;function C(u){n[4](u)}let O={borderColor:"white"};n[0]!==void 0&&(O.checked=n[0]),t=new it({props:O}),Pe.push(()=>nt(t,"checked",C)),r=new x({props:{type:"text",size:"verysmall",$$slots:{default:[Vt]},$$scope:{ctx:n}}}),r.$on("click",n[5]),a=new x({props:{type:"text",size:"verysmall",$$slots:{default:[At]},$$scope:{ctx:n}}}),a.$on("click",n[6]),c=new x({props:{type:"text",size:"verysmall",$$slots:{default:[Nt]},$$scope:{ctx:n}}}),c.$on("click",n[3]);let p=n[1]&&et(n);return{c(){e=G("div"),A(t.$$.fragment),s=I(),A(r.$$.fragment),i=I(),A(a.$$.fragment),o=I(),A(c.$$.fragment),f=I(),g=G("div"),p&&p.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var h=L(e);N(t.$$.fragment,h),s=y(h),N(r.$$.fragment,h),i=y(h),N(a.$$.fragment,h),o=y(h),N(c.$$.fragment,h),h.forEach(d),f=y(u),g=D(u,"DIV",{class:!0});var U=L(g);p&&p.l(U),U.forEach(d),this.h()},h(){w(e,"class","mass-select svelte-154apux"),w(g,"class","savegames svelte-154apux")},m(u,h){z(u,e,h),R(t,e,null),m(e,s),R(r,e,null),m(e,i),R(a,e,null),m(e,o),R(c,e,null),z(u,f,h),z(u,g,h),p&&p.m(g,null),P=!0},p(u,[h]){const U={};!l&&h&1&&(l=!0,U.checked=u[0],at(()=>l=!1)),t.$set(U);const re={};h&1024&&(re.$$scope={dirty:h,ctx:u}),r.$set(re);const X={};h&1024&&(X.$$scope={dirty:h,ctx:u}),a.$set(X);const ee={};h&1024&&(ee.$$scope={dirty:h,ctx:u}),c.$set(ee),u[1]?p?(p.p(u,h),h&2&&v(p,1)):(p=et(u),p.c(),v(p,1),p.m(g,null)):p&&(he(),k(p,1,1,()=>{p=null}),pe())},i(u){P||(v(t.$$.fragment,u),v(r.$$.fragment,u),v(a.$$.fragment,u),v(c.$$.fragment,u),v(p),P=!0)},o(u){k(t.$$.fragment,u),k(r.$$.fragment,u),k(a.$$.fragment,u),k(c.$$.fragment,u),k(p),P=!1},d(u){u&&d(e),q(t),q(r),q(a),q(c),u&&d(f),u&&d(g),p&&p.d()}}}function qt(n,e,t){let l;ut(n,Je,f=>t(1,l=f));let s=!1;const r=f=>{!s||l.forEach((g,P)=>{dt(Je,l[P].selected=f,l)})},i=()=>{if(!!s)for(;;){const f=l.findIndex(g=>g.selected);if(f===-1)break;rt(l[f].index)}};function a(f){s=f,t(0,s)}return[s,l,r,i,a,()=>r(!0),()=>r(!1)]}class Ft extends ze{constructor(e){super(),Le(this,e,qt,Rt,Me,{})}}function st(n){let e,t;return{c(){e=G("h2"),t=S(n[0]),this.h()},l(l){e=D(l,"H2",{class:!0});var s=L(e);t=E(s,n[0]),s.forEach(d),this.h()},h(){w(e,"class","svelte-1m0rrae")},m(l,s){z(l,e,s),m(e,t)},p(l,s){s&1&&ie(t,l[0])},d(l){l&&d(e)}}}function Bt(n){let e,t,l,s=n[0]&&st(n);const r=n[3].default,i=ht(r,n,n[2],null);return{c(){e=G("section"),s&&s.c(),t=I(),i&&i.c(),this.h()},l(a){e=D(a,"SECTION",{class:!0});var o=L(e);s&&s.l(o),t=y(o),i&&i.l(o),o.forEach(d),this.h()},h(){w(e,"class","wrapper svelte-1m0rrae"),Xe(e,"text-center",n[1])},m(a,o){z(a,e,o),s&&s.m(e,null),m(e,t),i&&i.m(e,null),l=!0},p(a,[o]){a[0]?s?s.p(a,o):(s=st(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),i&&i.p&&(!l||o&4)&&pt(i,r,a,a[2],l?gt(r,a[2],o,null):$t(a[2]),null),(!l||o&2)&&Xe(e,"text-center",a[1])},i(a){l||(v(i,a),l=!0)},o(a){k(i,a),l=!1},d(a){a&&d(e),s&&s.d(),i&&i.d(a)}}}function Ot(n,e,t){let{$$slots:l={},$$scope:s}=e,{title:r=null}=e,{centered:i=!1}=e;return n.$$set=a=>{"title"in a&&t(0,r=a.title),"centered"in a&&t(1,i=a.centered),"$$scope"in a&&t(2,s=a.$$scope)},[r,i,s,l]}class Kt extends ze{constructor(e){super(),Le(this,e,Ot,Bt,Me,{title:0,centered:1})}}export{Kt as C,Ft as S};
